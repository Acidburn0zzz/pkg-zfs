From: Darik Horn <dajhorn@vanadac.com>
Date: Tue, 17 Jan 2012 11:54:21 -0600
Subject: Remove all upstream init.d components.

The etc/init.d/ components are redundant because the debian/ overlay
bundles init files according to Debian packaging policy.
---
 configure.ac             |    1 -
 etc/Makefile.am          |    2 +-
 etc/init.d/.gitignore    |    1 -
 etc/init.d/Makefile.am   |   22 -----
 etc/init.d/zfs.arch.in   |   62 ------------
 etc/init.d/zfs.fedora.in |  244 ----------------------------------------------
 etc/init.d/zfs.gentoo.in |  111 ---------------------
 etc/init.d/zfs.lsb.in    |  130 ------------------------
 etc/init.d/zfs.lunar.in  |   95 ------------------
 etc/init.d/zfs.redhat.in |  176 ---------------------------------
 10 files changed, 1 insertion(+), 843 deletions(-)
 delete mode 100644 etc/init.d/.gitignore
 delete mode 100644 etc/init.d/Makefile.am
 delete mode 100644 etc/init.d/zfs.arch.in
 delete mode 100644 etc/init.d/zfs.fedora.in
 delete mode 100644 etc/init.d/zfs.gentoo.in
 delete mode 100644 etc/init.d/zfs.lsb.in
 delete mode 100644 etc/init.d/zfs.lunar.in
 delete mode 100644 etc/init.d/zfs.redhat.in

Index: b/configure.ac
===================================================================
--- a/configure.ac
+++ b/configure.ac
@@ -62,7 +62,6 @@
 	udev/Makefile
 	udev/rules.d/Makefile
 	etc/Makefile
-	etc/init.d/Makefile
 	etc/zfs/Makefile
 	etc/systemd/Makefile
 	etc/systemd/system/Makefile
Index: b/etc/Makefile.am
===================================================================
--- a/etc/Makefile.am
+++ b/etc/Makefile.am
@@ -1,2 +1,2 @@
-SUBDIRS = zfs $(ZFS_INIT_SYSTEMD) $(ZFS_INIT_SYSV) $(ZFS_MODULE_LOAD)
-DIST_SUBDIRS = init.d zfs systemd modules-load.d
+SUBDIRS = zfs
+DIST_SUBDIRS = zfs
Index: b/etc/init.d/.gitignore
===================================================================
--- a/etc/init.d/.gitignore
+++ /dev/null
@@ -1 +0,0 @@
-zfs
Index: b/etc/init.d/Makefile.am
===================================================================
--- a/etc/init.d/Makefile.am
+++ /dev/null
@@ -1,21 +0,0 @@
-initdir = $(DEFAULT_INIT_DIR)
-init_SCRIPTS = zfs
-
-EXTRA_DIST = \
-	$(top_srcdir)/etc/init.d/zfs.fedora.in \
-	$(top_srcdir)/etc/init.d/zfs.gentoo.in \
-	$(top_srcdir)/etc/init.d/zfs.lsb.in \
-	$(top_srcdir)/etc/init.d/zfs.lunar.in \
-	$(top_srcdir)/etc/init.d/zfs.redhat.in
-
-$(init_SCRIPTS):
-	-$(SED) -e 's,@bindir\@,$(bindir),g' \
-		-e 's,@sbindir\@,$(sbindir),g' \
-		-e 's,@udevdir\@,$(udevdir),g' \
-		-e 's,@udevruledir\@,$(udevruledir),g' \
-		-e 's,@sysconfdir\@,$(sysconfdir),g' \
-		-e 's,@initdir\@,$(initdir),g' \
-		'$@.$(DEFAULT_INIT_SCRIPT).in' >'$@'
-
-distclean-local::
-	-$(RM) $(init_SCRIPTS)
