zfs-linux (0.7.0-rc2-1~trusty~1.gbpc8c448) trusty; urgency=low

  ** SNAPSHOT build @c8c448c296d86fdfd32a0d60b7809192e382645e **

  [ cao ]
  * Fix coverity defects: 147658, 147652, 147651
  * Fix coverity defects: CID 147610, 147608, 147607

  [ liaoyuxiangqin ]
  * Fix zfs_clone_010_pos.ksh to verify the space used by multiple copies

  [ ChaoyuZhang ]
  * Enable ro_props_001_pos and onoffs_001_pos

  [ liaoyuxiangqin ]
  * Fix zfs_clone_010_pos.ksh to verify zfs clones property displays right

  [ Isaac Huang ]
  * Explicit block device plugging when submitting multiple BIOs

  [ BearBabyLiu ]
  * Fix coverity defects: CID 147443, 147656, 147655, 147441, 147653

  [ Gvozden Neskovic ]
  * fix: Shift exponent too large
  * Explicit integer promotion for bit shift operations
  * Avoid undefined shift overflow in fzap_cursor_retrieve()

  [ Matthew Ahrens ]
  * Add a script to change file names when upstreaming to OpenZFS/illumos

  [ cao ]
  * Fix coverity defects: CID 147707

  [ Brian Behlendorf ]
  * Disable zpool_import_002_pos and ro_props_001_pos
  * Fix cppcheck warning in buf_init()

  [ Gvozden Neskovic ]
  * raidz_test: respect wall time

  [ GeLiXin ]
  * Fix coverity defects: CID 147536, 147537, 147538
  * Fix coverity defects: CID 147531 147532 147533 147535

  [ cao ]
  * Fix coverity defects: CID 147563, 147560

  [ candychencan ]
  * Fix NULL deref in kcf_remove_mech_provider

  [ luozhengzheng ]
  * Fix coverity defects: CID 147448, 147449, 147450, 147453, 147454

  [ Richard Laager ]
  * Correct zpool_vdev_remove() error message

  [ Romain Dolbeau ]
  * Add parity generation/rebuild using 128-bits NEON for Aarch64

  [ Gvozden Neskovic ]
  * Fletcher4: Init in libzfs_init()

  [ Tony Hutter ]
  * OpenZFS 4185 - add new cryptographic checksums to ZFS: SHA-512, Skein, Edon-R

  [ ilovezfs ]
  * OpenZFS 6541 - Pool feature-flag check defeated if "verify" is included in the dedup property value
  * OpenZFS 6585 - sha512, skein, and edonr have an unenforced dependency on extensible dataset

  [ Tony Hutter ]
  * Use 100MB pool for filetest_001_pos.ksh checksum test

  [ Gvozden Neskovic ]
  * zloop: check if core file is generated by zdb

  [ luozhengzheng ]
  * Fix coverity defects: CID 150953, 147603, 147610

  [ Gvozden Neskovic ]
  * Fletcher4: Incremental using SIMD
  * Fletcher4: save/reload implementation context

  [ lorddoskias ]
  * Refactor updating of immutable/appendonly flags

  [ Giuseppe Di Natale ]
  * Correct style in arcstat and arc_summary
  * Correct style in test-runner

  [ Rudd-O ]
  * Use a different technique to detect whether to mount-zfs

  [ Marcel Huber ]
  * Add icp kernel module to dkms build

  [ Giuseppe Di Natale ]
  * Correct exit code for dbufstat -v and arcstat -v
  * Introduce a make recipe for flake8
  * Introduce tests for python scripts

  [ Jinshan Xiong ]
  * Add support for user/group dnode accounting & quota
  * OpenZFS 6988 spa_sync() spends half its time in dmu_objset_do_userquota_updates

  [ LOLi ]
  * Fix uninitialized variable snapprops_nvlist in zfs_receive_one

  [ cao ]
  * Fix coverity defects: CID 147565-147567

  [ Håkan Johansson ]
  * Fix vdev_open_child() race on updating vdev_parent->vdev_nonrot

  [ Brian Behlendorf ]
  * Rename hole_birth tunable to match OpenZFS

  [ Stian Ellingsen ]
  * Fix use after free in zfsctl_snapshot_unmount()
  * Use env, not sh in zfsctl_snapshot_{,un}mount()

  [ Brian Behlendorf ]
  * Fix file permissions

  [ ChaoyuZhang ]
  * Enable readonly_001_pos

  [ Tom Caputi ]
  * Porting over some ICP code that was missed in #4760

  [ Tim Chase ]
  * Write issue taskq shouldn't be dynamic

  [ GeLiXin ]
  * Fix coverity defects: CID 147639

  [ liaoyuxiangqin ]
  * Enable reservation_012_pos, reservation_015_pos and reservation_016_pos

  [ Brian Behlendorf ]
  * Enable zfs_snapshot_008_neg and zfs_snapshot_009_pos (#5260)

  [ luozhengzheng ]
  * Fix memory leak in recv_skip

  [ cao ]
  * Fix coverity defects: CID 147452, 147447, 147446
  * Fix coverity defects: CID 147606, 147609

  [ Tom Caputi ]
  * Fix ICP memleak introduced in #4760

  [ luozhengzheng ]
  * Fix coverity defects: CID 153394

  [ GeLiXin ]
  * Fix coverity defects: CID 147654, 147690

  [ liaoyuxiangqin ]
  * Enable refquota_002_pos and refquota_004_pos

  [ luozhengzheng ]
  * Fix coverity defects: CID 147571, 147574

  [ cao ]
  * Fix coverity defects: CID 150943, 150938
  * Fix coverity defects: CID 147692, 147693, 147694

  [ Don Brady ]
  * OpenZFS 7090 - zfs should throttle allocations

  [ Brian Behlendorf ]
  * Enable zfs_receive_011_pos

  [ liaoyuxiangqin ]
  * Enable quota_002_pos, quota_004_pos and quota_005_pos

  [ luozhengzheng ]
  * Fix coverity defects: CID 150921, 150927

  [ Brian Behlendorf ]
  * Enable zfs_rename_002_pos, zfs_rename_005_neg, zfs_rename_007_pos

  [ Akash Ayare ]
  * OpenZFS 6877 - zfs_rename_006_pos fails due to missing zvol snapshot device file

  [ cao ]
  * Fix coverity defects: CID 147488, 147490

  [ Brian Behlendorf ]
  * Allow partition aliases in vdev_id.conf (#5266)

  [ Rudd-O ]
  * Use -F to export pools so as not to dirty up device labels

  [ Håkan Johansson ]
  * Pass status_cbdata_t to print_status_config() and friends

  [ Rudd-O ]
  * Properly use the Dracut cleanup hook to order pool shutdown

  [ luozhengzheng ]
  * Fix coverity defects: CID 150924

  [ Giuseppe Di Natale ]
  * Create a symlink to current test-runner output

  [ cao ]
  * Fix coverity defects: CID 49339, 153393

  [ GeLiXin ]
  * Fix coverity defects: CID 147643, 152204, 49339

  [ Brian Behlendorf ]
  * Fix unused variable

  [ luozhengzheng ]
  * Fix coverity defects: CID 150926

  [ Tony Hutter ]
  * Multipath autoreplace, control enclosure LEDs, event rate limiting

  [ Brian Behlendorf ]
  * Update .gitignore

  [ Chunwei Chen ]
  * Remove dir inode operations from zpl_inode_operations
  * Linux 4.9 compat: iops->rename() wants flags
  * Linux 4.9 compat: remove iops->{set,get,remove}xattr

  [ Brian Behlendorf ]
  * Linux 4.9 compat: inode_change_ok() renamed setattr_prepare()
  * Fix make distclean Makefile.am removal

  [ legend-hua ]
  * Update migration_004_pos, migration_005_pos, migration_006_pos

  [ luozhengzheng ]
  * Fix coverity defects: CID 150919, 150923

  [ cao ]
  * Fix coverity defects: CID 147472
  * Fix coverity defects: CID 147551, 147552

  [ luozhengzheng ]
  * Fix coverity defects: CID 153459

  [ Brian Behlendorf ]
  * Fix userquota_compare() function

  [ Romain Dolbeau ]
  * Fletcher4 algorithm implemented in pure NEON for Aarch64 / ARMv8 64 bits

  [ Giuseppe Di Natale ]
  * Change location of current symlink created by test-runner

  [ Tony Hutter ]
  * Turn on/off enclosure slot fault LED even when disk isn't present

  [ Brian Behlendorf ]
  * Fix taskq creation failure in vdev_open_children()

  [ cao ]
  * Fix coverity defects: CID 147511, 147513

  [ Brian Behlendorf ]
  * Disable zpool_upgrade_002_pos test case

  [ tuxoko ]
  * Fix cred leak in zpl_fallocate_common

  [ Jason Zaman ]
  * icp: mark asm files with noexec stack

  [ Tony Hutter ]
  * Fix statechange-led.sh & unnecessary libdevmapper warning

  [ jxiong ]
  * Do not upgrade userobj accounting for snapshot dataset

  [ LOLi ]
  * Allow for '-o feature@<feature>=disabled' on the command line

  [ Brian Behlendorf ]
  * Disable zio_dva_throttle_enabled by default

  [ Hajo Möller ]
  * Fix lookup_bdev() on Ubuntu

  [ Brian Behlendorf ]
  * Tag 0.7.0-rc2

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 26 Oct 2016 22:59:19 -0400

zfs-linux (0.7.0-rc1-3~trusty~gbp7bd9cb) trusty; urgency=low

  ** SNAPSHOT build @7bd9cb7a88032716a6512e16c3f2d8ab4c75692e **

  [ liuhuang ]
  * Fix memory/fd leak in check_file() and is_spare()

  [ Tim Chase ]
  * Free property names with spa_strfree() rather than strfree()

  [ Nikolay Borisov ]
  * Refactor spa_load_l2cache to make build happy

  [ Tim Chase ]
  * Remove redundant assignments to arc_c

  [ loli10K ]
  * Allow ZVOL bookmarks to be listed recursively

  [ luozhengzheng ]
  * Fix memleak in zfs_do_* and zpool_do_*

  [ Paul Dagnelie ]
  * OpenZFS 7262 - remove seq from zfs_receive_010.ksh

  [ George Wilson ]
  * OpenZFS 6950 - ARC should cache compressed data

  [ Dan Kimmel ]
  * DLPX-40252 integrate EP-476 compressed zfs send/receive

  [ Tom Caputi ]
  * Enable raw writes to perform dedup with verification

  [ Dan Kimmel ]
  * Remove lint suppression from dmu.h and unnecessary dmu.h include in spa.h
  * DLPX-44733 combine arc_buf_alloc_impl() with arc_buf_clone()

  [ Nikolay Borisov ]
  * Refactor generic inode time updating
  * Simplify time handling logic in zfs_settattr

  [ Brian Behlendorf ]
  * Disable zpool_upgrade_004_pos test case
  * Enable ignore_hole_birth module option by default

  [ luozhengzheng ]
  * Fix Coverity defects

  [ legend-hua ]
  * Fix FALLOC_FL_PUNCH_HOLE use in randfree_file.c

  [ Tim Chase ]
  * Fix arc_adjust_meta_balanced()

  [ slashdd ]
  * Change /etc/mtab to /proc/self/mounts

  [ candychencan ]
  * Fix strncpy in taskq_create

  [ cao ]
  * Fix coverity defects

  [ legend-hua ]
  * Remove script zfs_commands.cfg

  [ BearBabyLiu ]
  * Fix coverity defects

  [ Moritz Maxeiner ]
  * Fix regression that broke dracut initramfs generation

  [ Isaac Huang ]
  * Reduce noise in tracing logs

  [ Brian Behlendorf ]
  * Fix automatically generated release number

  [ candychencan ]
  * Fix zfs_destroy_001_pos.ksh

  [ luozhengzheng ]
  * Fix coverity defects

  [ cao ]
  * Update zfs destroy test scripts

  [ luozhengzheng ]
  * Fix coverity defects

  [ kernelOfTruth aka. kOT, Gentoo user ]
  * OpenZFS 7230 - add assertions to dmu_send_impl() to verify that stream includes BEGIN and END records
  * OpenZFS 6111 - zfs send should ignore datasets created after the ending snapshot

  [ tuxoko ]
  * Linux 4.7 compat: Fix deadlock during lookup on case-insensitive

  [ luozhengzheng ]
  * Fix coverity defects: CID 147613 147614 147616 147617

  [ Brian Behlendorf ]
  * Fix multilist_create() memory leak

  [ cao ]
  * Fix coverity defects: CID 147602 147604
  * Fix coverity defects: CID 147650, 147649, 147647, 147646

  [ candychencan ]
  * Enable property_alias_001_pos.ksh

  [ lorddoskias ]
  * Refactor inode->i_mode management

 -- Darik Horn <dajhorn@vanadac.com>  Tue, 27 Sep 2016 22:56:25 -0400

zfs-linux (0.7.0-rc1-3~trusty~gbp2b28e7) trusty; urgency=low

  ** SNAPSHOT build @2b28e733d1e8ed3994f9231700fe597d8c19c7d9 **

  [ Richard Yao ]
  * Discard on zvols should not exceed the length of a block

  [ Brian Behlendorf ]
  * Fix NULL as mount(2) syscall data parameter

  [ Ned Bass ]
  * Honor xattr=sa dataset property

  [ Remy Blank ]
  * Tab-indent continuation lines in the "scan:" section of "zpool status".

  [ Don Brady ]
  * Add large block support to zpios(1) benchmark

  [ yuina822 ]
  * Add extra_started_commands because reload function is not default
  * Fixed --signal typo

  [ Lukas Wunner ]
  * Linux 4.3 compat: bio_end_io_t / BIO_UPTODATE

  [ Brian Behlendorf ]
  * Allow NFS activity to defer snapshot unmounts
  * Disable zpl_nr_cached_objects() callback
  * Avoid blocking in arc_reclaim_thread()
  * Fix synchronous behavior in __vdev_disk_physio()
  * Revert "dmu_objset_userquota_get_ids uses dn_bonus unsafely"

  [ Richard Yao ]
  * Userspace can pass zero length segments via writev/readv

  [ Chunwei Chen ]
  * Fix uioskip crash when skip to end

  [ Turbo Fredriksson ]
  * Init script fixes

  [ Richard Yao ]
  * Remove obsolete zv_lock
  * zfs_inode_update should not call dmu_object_size_from_db under spinlock

  [ Brian Behlendorf ]
  * Fix zfs-dkms uninstall/update

  [ Turbo Fredriksson ]
  * Rename 'zed.service' to 'zfs-zed.service'

  [ Brian Behlendorf ]
  * Fix 'arc_c < arc_c_min' panic

  [ DHE ]
  * libzfs: handle EDOM errors

  [ Tim Chase ]
  * zdb: segfault in dump_bpobj_subobjs()

  [ James Lee ]
  * zfs-import: Perform verbatim import using cache file

  [ Justin T. Gibbs ]
  * Illumos 6267 - dn_bonus evicted too early

  [ Chunwei Chen ]
  * Fix use-after-free in vdev_disk_physio_completion
  * Fix fail path in zfs_znode_alloc

  [ Turbo Fredriksson ]
  * Unmount is part of the shutdown process, not the boot process.
    (Closes: #3762)
  * Remove shareiscsi description and example from zfs(8).

  [ Brian Behlendorf ]
  * Fix maybe uninitialized
  * Add TEST configuration file for buildbot

  [ AndCycle ]
  * Obey arc_meta_limit default size when changing arc_max

  [ Brian Behlendorf ]
  * Follow 0/-E convention for module load errors
  * zimport.sh: Add configure/make option support

  [ Jason Zaman ]
  * sysmacros: Make P2ROUNDUP not trigger int overflow

  [ Chunwei Chen ]
  * Fix snapshot automount behavior when concurrent or fail

  [ tuxoko ]
  * Fix null pointer in arc_kmem_reap_now on 32-bit
  * Fix zfs_dirty_data_max overflow on 32-bit

  [ Chunwei Chen ]
  * Linux 4.4 compat: make_request_fn returns blk_qc_t
  * Linux 4.4 compat: xattr operations takes xattr_handler

  [ Brian Behlendorf ]
  * Fix --enable-linux-builtin

  [ tuxoko ]
  * Prevent rm modules.* when make install

  [ Chunwei Chen ]
  * Fix zdb calling behavior in ztest
  * Fix zdb_dump_block on little endian systems

  [ Richard Yao ]
  * Only trigger SET_ERROR tracepoint event on error

  [ Yuri Pankov ]
  * Illumos 934 - FreeBSD's GPT not recognized

  [ ilovezfs ]
  * Ext4's typical GPT partition type not recognized

  [ Brian Behlendorf ]
  * Add zap_prefetch() interface

  [ Matthew Ahrens ]
  * Illumos 5959 - clean up per-dataset feature count code

  [ ilovezfs ]
  * Fix cstyle issue from 7a02327

  [ cable2999 ]
  * Update arcstat.py to remove deprecated rmis reference.

  [ Brian Behlendorf ]
  * Use large stacks when available

  [ Chunwei Chen ]
  * Use spa as key besides objsetid for snapentry

  [ Brian Behlendorf ]
  * Either _ILP32 or _LP64 must be defined
  * Set 'zfs_expire_snapshot=0' to disable auto-unmount
  * Fix zfsctl_lookup_objset() deadlock
  * Change zfs_snapshot_lock from mutex to rw lock

  [ Chunwei Chen ]
  * Fix snapshot automount race cause EREMOTE

  [ Brian Behlendorf ]
  * Hold the zfs_snapentry_t before dispatch

  [ Richard Yao ]
  * Unconditionally build zdb and ztest with -DDEBUG
  * Revert "Switch ztest mmap(2) ASSERTs to VERIFYs"

  [ Olaf Faaland ]
  * Remove "index" column from dbufstat.py

  [ Brian Behlendorf ]
  * Handle block pointers with a corrupt logical size
  * Handle damaged blk_birth in dsl_deadlist_insert()

  [ Chunwei Chen ]
  * Fix uio_prefaultpages for 0 length iovec
  * Use uio for zvol_{read,write}

  [ Brian Behlendorf ]
  * Fix z_xattr_lock/z_teardown_lock lock inversion
  * Fix vdev_queue_aggregate() deadlock
  * Fix zfs_vdev_aggregation_limit bounds checking

  [ Ned Bass ]
  * Man page white space and spelling corrections

  [ Benjamin Albrecht ]
  * Activate LVM volume groups before looking for zpools.

  [ DHE ]
  * Make zio_taskq_batch_pct user configurable

  [ Kamil Domański ]
  * Skip GPL-only symbols test when cross-compiling

  [ Olaf Faaland ]
  * Add lock types RW_NOLOCKDEP and MUTEX_NOLOCKDEP
  * Identify locks flagged by lockdep

  [ Brian Behlendorf ]
  * Fix ztest truncated cache file
  * Revert "Fix z_xattr_lock/z_teardown_lock lock inversion"
  * Fix z_xattr_lock/z_teardown_lock inversion

  [ Chunwei Chen ]
  * Fix empty xattr dir causing lockup
  * Make xattr dir truncate and remove in one tx

  [ Chris Williamson ]
  * Illumos 5745 - zfs set allows only one dataset property to be set at a time

  [ Ned Bass ]
  * Prevent SA length overflow

  [ Matthew Ahrens ]
  * Illumos 5746 - more checksumming in zfs send

  [ Milan Jurik ]
  * Illumos 2077 - lots of unreachable breaks in illumos gate

  [ Jeremy Jones ]
  * Illumos 3139 - zdb dies when it tries to determine path of unlinked file

  [ Matthew Ahrens ]
  * Illumos 3604 - zdb should print bpobjs more verbosely (fix zdb hang)

  [ Hajo Möller ]
  * Make arc_summary.py and dbufstat.py compatible with python3

  [ Richard Sharpe ]
  * Fix casesensitivity=insensitive deadlock

  [ Brian Behlendorf ]
  * Add missing -V option to zdb

  [ Paul Dagnelie ]
  * Illumos 5960, 5925

  [ Brian Behlendorf ]
  * Allow 16M send/recv blocks

  [ Will Andrews ]
  * Illumos 3749 - zfs event processing should work on R/O root filesystems

  [ nathancheek ]
  * Man page whitespace

  [ Marcel Telka ]
  * Illumos 4638 - Panic in ZFS via rfs3_setattr()/rfs3_write(): dirtying snapshot!

  [ Matthew Ahrens ]
  * Illumos 4891 - want zdb option to dump all metadata
  * Illumos 4929 - want prevsnap property

  [ Brian Behlendorf ]
  * Fix 'prevsnap property' build failure
  * Fix vn_rdwr() compiler warning
  * Revert "Illumos 3749 - zfs event processing should work on R/O root filesystems"
  * Illumos 5039 - ztest should default to larger device sizes
  * Illumos 6293 - ztest failure: error == 28 (0xc == 0x1c) in ztest_tx_assign()

  [ Matthew Ahrens ]
  * Illumos 5987 - zfs prefetch code needs work
  * Illumos 6319 - assertion failed in zio_ddt_write: bp->blk_birth == txg

  [ George Wilson ]
  * Illumos 6292 - exporting a pool while an async destroy

  [ Matthew Ahrens ]
  * Illumos 6288 - dmu_buf_will_dirty could be faster

  [ Justin T. Gibbs ]
  * Illumos 6171 - dsl_prop_unregister() slows down dataset eviction.

  [ Joshua M. Clulow ]
  * Illumos 6268 - zfs diff confused by moving a file to another directory

  [ Joe Stein ]
  * Illumos 6295 - metaslab_condense's dbgmsg should include vdev id

  [ Saso Kiselkov ]
  * Illumos 6367 - spa_config_tryenter incorrectly handles the multiple-lock case

  [ Dan Vatca ]
  * Illumos 6358 - A faulted pool with only unavailable vdevs

  [ George Wilson ]
  * Illumos 6281 - prefetching should apply to 1MB reads

  [ Josef 'Jeff' Sipek ]
  * Illumos 5515 - dataset user hold doesn't reject empty tags

  [ Justin Gibbs ]
  * Illumos 5438 - zfs_blkptr_verify should continue after zfs_panic_recover

  [ Matthew Ahrens ]
  * Illumos 5141 - zfs minimum indirect block size is 4K

  [ Marcel Telka ]
  * Illumos 6280 - libzfs: unshare_one() could fail with EZFS_SHARENFSFAILED

  [ Will Andrews ]
  * Illumos 3749 - zfs event processing should work on R/O root filesystems

  [ Brian Behlendorf ]
  * Increase default user space stack size
  * Illumos 3465, 3466, 3467, 3468, 3470, 3473
  * Add zfs_object_mutex_size module option
  * Fix zsb->z_hold_mtx deadlock

  [ Richard Yao ]
  * Remove fastwrite mutex
  * SET_ERROR should print strings

  [ Chunwei Chen ]
  * Prevent duplicated xattr between SA and dir

  [ George Wilson ]
  * Illumos 3557, 3558, 3559, 3560

  [ Joe Stein ]
  * Illumos 6298 - zfs_create_008_neg and zpool_create_023_neg

  [ Marcel Telka ]
  * Illumos 4039 - zfs_rename()/zfs_link() needs stronger test for XDEV

  [ Matthew Ahrens ]
  * Illumos 4953, 4954, 4955

  [ Josef 'Jeff' Sipek ]
  * Illumos 5045 - use atomic_{inc,dec}_* instead of atomic_add_*

  [ Brian Behlendorf ]
  * Linux 4.5 compat: get_link() / put_link()
  * Linux 4.5 compat: xattr list handler
  * Linux 4.5 compat: pfn_t typedef
  * Close possible zfs_znode_held() race

  [ Olaf Faaland ]
  * Create zfs-kmod-debuginfo rpm with redhat spec file

  [ Matthew Ahrens ]
  * Illumos 4950 - files sometimes can't be removed from a full filesystem

  [ Brian Behlendorf ]
  * Illumos 6815179, 6844191

  [ Marcel Telka ]
  * Illumos 5518 - Memory leaks in libzfs import implementation

  [ Andrew Stormont ]
  * Illumos 1778 - Assertion failed: rn->rn_nozpool == B_FALSE

  [ Richard Yao ]
  * kobj_read_file: Return -1 on vn_rdwr() error

  [ Tim Chase ]
  * Prevent arc_c collapse (Closes: #3904, #4161)
  * Set arc_c_min properly in userland builds

  [ George Wilson ]
  * Illumos 6251 - add tunable to disable free_bpobj processing

  [ Matthew Ahrens ]
  * Illumos 6451 - ztest fails due to checksum errors

  [ Christian Neukirchen ]
  * mount.zfs: use getopt_long instead of getopt to guarantee permutation of argv.

  [ Dan McDonald ]
  * Log zvol truncate/discard operations

  [ kernelOfTruth ]
  * Reintroduce zfs_remove() synchronous deletes

  [ Simon Klinkert ]
  * llumos 6334 - Cannot unlink files when over quota

  [ Brian Behlendorf ]
  * Illumos 6414 - vdev_config_sync could be simpler
  * Illumos 6495 - Fix mutex leak in dmu_objset_find_dp

  [ Jorgen Lundman ]
  * Illumos 6527 -  Possible access beyond end of string in zpool comment

  [ Richard Sharpe ]
  * Handling negative dentries in a CI file system.

  [ Matthew Ahrens ]
  * Illumos 6450 - scrub/resilver unnecessarily traverses snapshots

  [ Dan McDonald ]
  * Illumos 6096 - ZFS_SMB_ACL_RENAME needs to cleanup better

  [ Gary Mills ]
  * Illumos 6537 - Panic on zpool scrub with DEBUG kernel

  [ Tim Chase ]
  * Correctly parse -R flag arguments

  [ Joshua M. Clulow ]
  * Illumos 4448 - zfs diff misprints unicode characters

  [ John Wren Kennedy ]
  * Illumos 5767 - fix several problems with zfs test suite

  [ Paul Dagnelie ]
  * Illumos 5809 - Blowaway full receive in v1 pool causes kernel panic

  [ Brian Behlendorf ]
  * Prevent zpool_find_vdev() from truncating vdev path

  [ Chunwei Chen ]
  * Remove wrong ASSERT in annotate_ecksum

  [ Olaf Faaland ]
  * Make configure error clearer when failing to find SPL

  [ Richard Yao ]
  * Clean up zvol request processing to pass uio and fix porting regressions
  * Call dmu_read_uio_dbuf() in zvol_read()

  [ Boris Protopopov ]
  * Make zvol minor functionality more robust

  [ Brian Behlendorf ]
  * Add l2arc_max_block_size tunable

  [ Grischa Zengel ]
  * Add nfs-kernel-server for Debian

  [ Richard Yao ]
  * Add -gLp to zpool subcommands for alt vdev names

  [ Brian Behlendorf ]
  * Change full path subcommand flag from -p to -P

  [ smh ]
  * FreeBSD r256956: Improve ZFS N-way mirror read performance by using load and locality information.

  [ ab-oe ]
  * Make zvol update volsize operation synchronous.

  [ Carlo Landmeter ]
  * Add support for alpine linux

  [ Tony Hutter ]
  * Fix zpool iostat bandwidth/ops calculation

  [ Chris Dunlap ]
  * Ensure zed _finish_daemonize() leaves fds 0-2 open

  [ Brian Behlendorf ]
  * Require libblkid

  [ Thijs Cramer ]
  * Updated paths to scan when importing zpool(s)

  [ Tim Chase ]
  * Change KM_SLEEP to TQ_SLEEP in spa_deadman()

  [ Brian Behlendorf ]
  * Remove RPM package restriction

  [ Boris Protopopov ]
  * Add support for asynchronous zvol minor operations
  * Fix lock order inversion with zvol_open()

  [ Brian Behlendorf ]
  * Relax MBR partition scanning requirement

  [ Paul Dagnelie ]
  * Illumos 6370 - ZFS send fails to transmit some holes

  [ Gordan Bobic ]
  * Fix aarch64 compilation

  [ Alex Wilson ]
  * Illumos 6681 - zfs list burning lots of time in dodefault() via dsl_prop_*

  [ Brian Behlendorf ]
  * Add the ZFS Test Suite
  * Disable zpool_add_004_pos test case

  [ Dimitri John Ledkov ]
  * Add support for s390[x].

  [ Richard Yao ]
  * Cleanup linking

  [ Gvozden Neskovic ]
  * Support for vectorized algorithms on x86

  [ Brian Behlendorf ]
  * Fix zdb -e and zhack thread_init()
  * Add zloop.sh test script
  * zfs_copies: do_vol_test must wait for device

  [ Andriy Gapon ]
  * write_dirs: set_partition expects zero-based partition indeces

  [ Brian Behlendorf ]
  * zloop.sh requires bash

  [ Richard Laager ]
  * Correct typo in spa_load_verify_metadata docs

  [ Carlo Landmeter ]
  * Include sys/types.h in devid.h
  * Add missing fcntl.h to includes in mount_zfs.c
  * Ensure correct return value type
  * Set _DATE_FMT to '%+' if not defined in libspl/timestamp.c
  * Move hrtime_t timestruc_t and timespec_t
  * Use the correct macro to include backtrace

  [ Brian Behlendorf ]
  * Fix zpool_scrub_* test cases

  [ DHE ]
  * gcc build error: -Wbool-compare in metaslab.c

  [ Brian Behlendorf ]
  * Remove complicated libspl assert wrappers

  [ Pavel Boldin ]
  * zfs_main: fix `zfs userspace` squashing unresolved entries

  [ Andriy Gapon ]
  * Expand EDQUOT variable

  [ Don Brady ]
  * Add support for devid and phys_path keys in vdev disk labels

  [ Brian Behlendorf ]
  * Only build devname2devid when libudev headers are available

  [ Colin Ian King ]
  * Add support 32 bit FS_IOC32_{GET|SET}FLAGS compat ioctls

  [ Brian Behlendorf ]
  * Fix WANT_DEVNAME2DEVID configure error
  * Linux 4.6 compat: PAGE_CACHE_SIZE removal

  [ Chunwei Chen ]
  * Fix atime handling and relatime
  * Enable lazytime semantic for atime
  * Make zfs mount according to relatime config in dataset
  * Add zfs-tests for relatime

  [ Jinshan Xiong ]
  * Make zfs test easier to run in local install
  * remove sanity check in replacement test

  [ Colin Ian King ]
  * Fix inverted logic on none elevator comparison

  [ Ned Bass ]
  * Fix ZPL miswrite of default POSIX ACL

  [ Nikolay Borisov ]
  * Rework zpool import excluded devices check

  [ Brian Behlendorf ]
  * Add pn_alloc()/pn_free() functions

  [ Chunwei Chen ]
  * Linux 4.5 compat: Use xattr_handler->name for acl

  [ Matthew Thode ]
  * fix booting via dracut generated initramfs

  [ Brian Behlendorf ]
  * Create unique partition labels
  * Use udev for partition detection
  * Disable efi_debug in --enable-debug builds
  * Fix 'zpool import' blkid device names
  * Fix zfs_copies_001_pos/zfs_copies_004_neg

  [ Josef 'Jeff' Sipek ]
  * Illumos 6659 - nvlist_free(NULL) is a no-op

  [ Alex Reece ]
  * Illumos 6844 - dnode_next_offset can detect fictional holes

  [ Brian Behlendorf ]
  * Add support for libtirpc
  * Fix user namespaces uid/gid mapping

  [ Vitaut Bajaryn ]
  * module/.gitignore: Add *.dwo (#4580)

  [ Tim Chase ]
  * Enable PF_FSTRANS for ioctl secpolicy callbacks (#4571)

  [ Nikolay Borisov ]
  * Kill znode->z_gen field

  [ Joe Stein ]
  * OpenZFS 6736 - ZFS per-vdev ZAPs

  [ Denys Rtveliashvili ]
  * taskq_create() calls thread_create() with wrong arguments

  [ Brian Behlendorf ]
  * OpenZFS 5669 - altroot not set in zpool create

  [ Tony Hutter ]
  * OpenZFS 6544 - incorrect comment in libzfs.h about offline status

  [ Brian Behlendorf ]
  * OpenZFS 6286 - ZFS internal error when set large block on bootfs

  [ David Quigley ]
  * OpenZFS 6672 - arc_reclaim_thread() should use gethrtime()

  [ Brian Behlendorf ]
  * Per-vdev ZAP tests must use $ZPOOL and $ZDB
  * Wrap vdev_count_verify_zaps() with ZFS_DEBUG

  [ Denys Rtveliashvili ]
  * OpenZFS 6879 - Incorrect endianness swap

  [ Chris Williamson ]
  * OpenZFS 6873 - zfs_destroy_snaps_nvl leaks errlist

  [ Chunwei Chen ]
  * OpenZFS 6842 - Fix empty xattr dir causing lockup

  [ Brian Behlendorf ]
  * Add zfs-helpers.sh script

  [ Adam Stevko ]
  * OpenZFS 3993, 4700

  [ Nikolay Borisov ]
  * Reduce stack usage of dmu_recv_stream function

  [ Marcel Huber ]
  * Fixes bug in fix_paths()

  [ Tony Hutter ]
  * Add -lhHpw options to "zpool iostat" for avg latency, histograms, & queues

  [ Brian Behlendorf ]
  * Revert "Kill znode->z_gen field"

  [ Dan McDonald ]
  * OpenZFS 6093 - zfsctl_shares_lookup

  [ Manuel Amador (Rudd-O) ]
  * A collection of dracut fixes

  [ Chunwei Chen ]
  * Use cv_timedwait_sig_hires in arc_reclaim_thread

  [ jyxent ]
  * Fix the test to use the variable

  [ Denys Rtveliashvili ]
  * OpenZFS 6739 - assumption in cv_timedwait_hires

  [ Richard Laager ]
  * zfs.8: zfs get and zfs list accept mountpoints
  * zfs.8: Drop references to Oracle documentation
  * zfs.8: Improve consistency in size documentation
  * zfs.8: Improve mount option documentation
  * zfs.8 & zpool.8: Linux/Solaris differences
  * zfs.8: Rework native vs user properties
  * zfs.8: Fix minor typos and the like
  * zfs.8 & zpool.8: Drop legal/illegal
  * zfs.8: Cleanup stray code
  * zfs.8: Improve zfs upgrade documentation
  * zfs.8 & zpool.8: Various documentation edits
  * zfs.8 & zpool.8: Standardize property value order

  [ Ruben Kerkhof ]
  * zfs.8 & mount.zfs.8: fix a few typos

  [ Richard Laager ]
  * Illumos 1502 Remove conversion cruft from manpages

  [ Matthew Ahrens ]
  * Illumos 1644 add ZFS "clones" property

  [ Richard Laager ]
  * zfs.8: Relative paths must start with ./

  [ Chunwei Chen ]
  * Remove dummy znode from zvol_state

  [ Boris Protopopov ]
  * Use zfs range locks in ztest

  [ Brian Behlendorf ]
  * zhack: Fix 'feature ref' comparison check
  * zhack: Add 'feature disable' command
  * zhack: Add 'feature enable' force option

  [ Marcel Huber ]
  * Fixes subtle bug in zio_handle_io_delay()

  [ Brian Behlendorf ]
  * Revert "zhack: Add 'feature disable' command"
  * Remove additional cruft from manpages

  [ Christer Ekholm ]
  * Make zpool list -vp print individual vdev sizes parsable.

  [ Nikolay Borisov ]
  * Kill znode->z_gen field

  [ Chunwei Chen ]
  * Linux 4.7 compat: handler->get() takes both dentry and inode
  * Linux 4.7 compat: replace blk_queue_flush with blk_queue_write_cache
  * Fix config for posix_acl_release() GPL test
  * Linux 4.7 compat: use iterate_shared for concurrent readdir

  [ Christer Ekholm ]
  * Consistently use parsable instead of parseable

  [ Brian Behlendorf ]
  * Add missing RPM BuildRequires

  [ Chunwei Chen ]
  * Skip ctldir znode in zfs_rezget to fix snapdir issues

  [ DHE ]
  * Improve zfs-module-parameters(5)

  [ Chunwei Chen ]
  * Fix arc_prune_task use-after-free

  [ Tony Hutter ]
  * Add request size histograms (-r) to zpool iostat, minor man page fix
  * OpenZFS 6531 - Provide mechanism to artificially limit disk performance

  [ Brian Behlendorf ]
  * Systemd configuration fixes

  [ GeLiXin ]
  * Fix self-healing IO prior to dsl_pool_init() completion

  [ YunQiang Su ]
  * Add isa_defs for MIPS

  [ Chunwei Chen ]
  * Fix out-of-bound access in zfs_fillpage
  * Fix memleak in zpl_parse_options
  * Fix memleak in vdev_config_generate_stats

  [ Brian Behlendorf ]
  * Linux 4.7 compat: handler->set() takes both dentry and inode

  [ Jinshan Xiong ]
  * Implementation of AVX2 optimized Fletcher-4

  [ Brian Behlendorf ]
  * Fix cstyle.pl warnings

  [ Colin Ian King ]
  * Fix minor spelling mistakes

  [ Brian Behlendorf ]
  * Add `zfs allow` and `zfs unallow` support
  * Remove libzfs_graph.c

  [ Tim Chase ]
  * Linux 4.6 compat: Fall back to d_prune_aliases() if necessary
    (Closes: #4726)

  [ Gvozden Neskovic ]
  * SIMD implementation of vdev_raidz generate and reconstruct routines

  [ Chunwei Chen ]
  * Fix NFS credential

  [ Paul Dagnelie ]
  * OpenZFS 6513 - partially filled holes lose birth time

  [ Boris Protopopov ]
  * Add a test case for dmu_free_long_range() to ztest

  [ Brian Behlendorf ]
  * Revert "Add a test case for dmu_free_long_range() to ztest"

  [ Nav Ravindranath ]
  * OpenZFS 6878 - Add scrub completion info to "zpool history"

  [ smh ]
  * FreeBSD rS271776 - Persist vdev_resilver_txg changes

  [ Ned Bass ]
  * xattrtest: allow verify with -R and other improvements
  * Backfill metadnode more intelligently
  * Implement large_dnode pool feature

  [ Brian Behlendorf ]
  * Sync DMU_BACKUP_FEATURE_* flags

  [ Matthew Ahrens ]
  * OpenZFS 2605, 6980, 6902

  [ Brian Behlendorf ]
  * OpenZFS 6051 - lzc_receive: allow the caller to read the begin record

  [ Paul Dagnelie ]
  * OpenZFS 6393 - zfs receive a full send as a clone

  [ Andrew Stormont ]
  * OpenZFS 6536 - zfs send: want a way to disable setting of DRR_FLAG_FREERECORDS

  [ Eli Rosenthal ]
  * OpenZFS 6738 - zfs send stream padding needs documentation

  [ Dan McDonald ]
  * OpenZFS 4986 - receiving replication stream fails if any snapshot exceeds refquota
  * OpenZFS 6562 - Refquota on receive doesn't account for overage

  [ Brian Behlendorf ]
  * Implement zfs_ioc_recv_new() for OpenZFS 2605

  [ Igor Kozhukhov ]
  * OpenZFS 6314 - buffer overflow in dsl_dataset_name

  [ Paul Dagnelie ]
  * OpenZFS 6876 - Stack corruption after importing a pool with a too-long name

  [ Brian Behlendorf ]
  * Vectorized fletcher_4 must be 128-bit aligned

  [ Gvozden Neskovic ]
  * Allow building with `CFLAGS="-O0"`

  [ Chunwei Chen ]
  * Fix get_zfs_sb race with concurrent umount
  * Don't allow accessing XATTR via export handle
  * Fix Large kmem_alloc in vdev_metaslab_init
  * Add configure result for xattr_handler
  * fh_to_dentry should return ESTALE when generation mismatch
  * xattr dir doesn't get purged during iput
  * Kill zp->z_xattr_parent to prevent pinning

  [ Brian Behlendorf ]
  * Fix RAIDZ_TEST tests

  [ Peng ]
  * Fix PANIC: metaslab_free_dva(): bad DVA X:Y:Z

  [ Gvozden Neskovic ]
  * Fix handling of errors nvlist in zfs_ioc_recv_new()
  * Add RAID-Z routines for SSE2 instruction set, in x86_64 mode.

  [ Brian Behlendorf ]
  * Enable zpool_upgrade test cases

  [ Tim Chase ]
  * Prevent null dereferences when accessing dbuf kstat

  [ Chunwei Chen ]
  * Fix dbuf_stats_hash_table_data race

  [ Chris Dunlop ]
  * Use native inode->i_nlink instead of znode->z_links

  [ Tyler J. Stachecki ]
  * Implementation of SSE optimized Fletcher-4

  [ Roman Strashkin ]
  * Fix filesystem destroy with receive_resume_token

  [ Tyler J. Stachecki ]
  * Prevent segfaults in SSE optimized Fletcher-4

  [ Brian Behlendorf ]
  * Update arc_summary.py for prefetch changes

  [ Chunwei Chen ]
  * Wait iput_async before evict_inodes to prevent race

  [ Gvozden Neskovic ]
  * Fixes and enhancements of SIMD raidz parity
  * RAIDZ parity kstat rework

  [ Chunwei Chen ]
  * Fix NULL pointer in zfs_preumount from 1d9b3bd

  [ Tom Caputi ]
  * Illumos Crypto Port module added to enable native encryption in zfs
  * Fix for compilation error when using the kernel's CONFIG_LOCKDEP

  [ Gvozden Neskovic ]
  * zloop: print backtrace from core files

  [ Tom Caputi ]
  * Fix for metaslab_fastwrite_unmark() assert failure

  [ Nikolay Borisov ]
  * Check whether the kernel supports i_uid/gid_read/write helpers
  * Remove znode's z_uid/z_gid member

  [ Brian Behlendorf ]
  * Fix uninitialized variable in avl_add()

  [ Tim Chase ]
  * Fix sync behavior for disk vdevs
  * Limit the amount of dnode metadata in the ARC

  [ Gvozden Neskovic ]
  * Fixes for issues found with cppcheck tool

  [ Brian Behlendorf ]
  * Multi-thread 'zpool import' for blkid

  [ Colin Ian King ]
  * void integer overflow on computation of refquota_slack

  [ Brian Behlendorf ]
  * Enable history test cases
  * Fix zdb crash with 4K-only devices

  [ Richard Yao ]
  * txg visibility code should not execute under tc_open_lock

  [ Brian Behlendorf ]
  * Linux 4.8 compat: submit_bio()
  * Linux 4.8 compat: REQ_PREFLUSH

  [ Chunwei Chen ]
  * Linux 4.8 compat: REQ_OP and bio_set_op_attrs()

  [ heary-cao ]
  * Fix zfs_allow_log_destroy() NULL dereference

  [ Nikolay Borisov ]
  * Unify license of icp module with the rest of zfs
  * Move assignment of i_blkbits field

  [ Colin Ian King ]
  * libzfs: Fix missing va_end call on ENOSPC and EDQUOT cases

  [ Gvozden Neskovic ]
  * libzfs_import.c: Uninitialized pointer read
  * ztest: memory leaks reported by AddressSanitizer

  [ liaoyuxiangqin ]
  * Fix memory leak in function add_config()

  [ Tony Hutter ]
  * Fix possible VDEV stats array overflow

  [ Brian Behlendorf ]
  * Add `make lint` target

  [ Chunwei Chen ]
  * Set proper dependency for string replacement targets

  [ Brian Behlendorf ]
  * Fix gcc self-comparison warning
  * Fix gcc -Warray-bounds check for dump_object() in zdb

  [ Gaurav Kumar ]
  * arc_meta_limit should be updated when arc_max is changed.

  [ Nikolay Borisov ]
  * Linux 4.8 compat: new s_user_ns member of struct super_block
  * Fix interaction between userns uid/gid and SA

  [ Brian Behlendorf ]
  * Retire HAVE_CURRENT_UMASK and HAVE_POSIX_ACL_CACHING
  * Linux 4.8 compat: posix_acl_valid()

  [ GeLiXin ]
  * Fix call zfs_get_name() with invalid parameter

  [ Chunwei Chen ]
  * Linux 4.7 compat: fix zpl_get_acl returns invalid acl pointer

  [ Gvozden Neskovic ]
  * Build user-space with different gcc optimization levels

  [ Brian Behlendorf ]
  * Linux 4.8 compat: Fix removal of bio->bi_rw member
  * Remove custom root pool import code

  [ GeLiXin ]
  * Fix indefinite article

  [ Chen Haiquan ]
  * Use file_dentry and file_inode wrappers

  [ Chunwei Chen ]
  * Fix infinite loop when zdb -R with d flag

  [ Matthew Ahrens ]
  * OpenZFS 7263 - deeply nested nvlist can overflow stack

  [ Brian Behlendorf ]
  * Reorder HAVE_BIO_RW_* checks

  [ Jason Zaman ]
  * icp: add no_const for PaX Compat
  * icp: mark asm files with noexec stack

  [ luozhengzheng ]
  * Fix a typo in ZIL write handling comment

  [ Hans Rosenfeld ]
  * OpenZFS 5997 - FRU field not set during pool creation and never updated

  [ GeLiXin ]
  * Fix incorrect pool state after import

  [ Rich Ercolani ]
  * Add tunable to ignore hole_birth

  [ Gvozden Neskovic ]
  * Add support for AVX-512 family of instruction sets
  * Fletcher4 implementation using avx512f instruction set
  * Rework of fletcher_4 module
  * zdb: fencepost error at zdb_cb.zcb_embedded_histogram[][]

  [ Matthew Ahrens ]
  * It is not necessary to zero struct dbuf_hold_impl_data

  [ Nikolay Borisov ]
  * Fix do_link portion of ctime test

  [ Paul Dagnelie ]
  * OpenZFS 7176 - Yet another hole birth issue

  [ ChaoyuZhang ]
  * Update zfs_create_(009,010)_neg.ksh

  [ heary-cao ]
  * Fix spa config generate memory leak in spa_load_best function

  [ Matthew Ahrens ]
  * OpenZFS 7003 - zap_lockdir() should tag hold
  * OpenZFS 7004 - dmu_tx_hold_zap() does dnode_hold() 7x on same object

  [ Gvozden Neskovic ]
  * Linux compat: Grsecurity kernel

  [ GeLiXin ]
  * Fix: Array bounds read in zprop_print_one_property()

  [ Tim Chase ]
  * Prevent reclaim in send_traverse_thread()

  [ GeLiXin ]
  * Add zfs_arc_meta_limit_percent tunable

  [ Brian Behlendorf ]
  * Fix cv_timedwait_hires

  [ GeLiXin ]
  * Fix: Build warnings with different gcc optimization levels in debug mode

  [ Matthew Ahrens ]
  * OpenZFS 7086 - ztest attempts dva_get_dsize_sync on an embedded blockpointer

  [ Alexander Motin ]
  * OpenZFS 6322 - ZFS indirect block predictive prefetch

  [ Simon Klinkert ]
  * OpenZFS 6940 - Cannot unlink directories when over quota

  [ cao ]
  * Delete unused zfsctl_snapdir_inactive declaration

  [ liuhuang ]
  * Update zfs_mount_005_pos.ksh and zfs_mount_010_neg.ksh

  [ Brian Behlendorf ]
  * Add log_must_{retry,busy} helpers

  [ ChaoyuZhang ]
  * Update zfs_create_003_pos.ksh and zfs_create_006_pos.ksh

  [ cao ]
  * Update zfs_destroy_004.ksh script

  [ Hajo Möller ]
  * Fix "zpool get guid,freeing,leaked" source

  [ Brian Behlendorf ]
  * Update zpool_import_001_pos
  * Fix zhack argument processing

  [ Gvozden Neskovic ]
  * Performance optimization of AVL tree comparator functions

  [ cao ]
  * Fix zfs_unmount() and zfs_unshare_proto() leaks

  [ luozhengzheng ]
  * kmem_zalloc with KM_SLEEP will never return NULL
  * Delete unreferenced function zfs_ereport_send_interim_checksum

  [ Don Brady ]
  * Bring over illumos ZFS FMA logic -- phase 1

  [ Brian Behlendorf ]
  * Tag 0.7.0-rc1

  [ Sydney Vanda ]
  * Real disk partitioning now enabled in test suite for Linux

  [ John Wren Kennedy ]
  * OpenZFS - Performance regression suite for zfstest

  [ Moritz Maxeiner ]
  * Adapt genkernel fix for zfsonlinux/zfs#4749 to zfs dracut module
  * zfs dracut module should not assume systemd presence

  [ Brian Behlendorf ]
  * Fix make lint target

  [ Darik Horn ]
  * Update debian/gbp.conf for snapshot builds.
  * Refresh debian/patches after upstream merge.
  * Add libattr1-dev and libblkid-dev to Build-Depends.
  * Remove zfault.sh from examples.
  * Explicitly pass the META_VERSION to dh_dkms.

 -- Darik Horn <dajhorn@vanadac.com>  Sun, 11 Sep 2016 21:06:14 -0400

zfs-linux (0.6.5.7-1~trusty) trusty; urgency=low

  [ Gordan Bobic ]
  * Fix aarch64 compilation

  [ Brian Behlendorf ]
  * Fix user namespaces uid/gid mapping

  [ Chunwei Chen ]
  * Linux 4.5 compat: Use xattr_handler->name for acl

  [ Ned Bass ]
  * Fix ZPL miswrite of default POSIX ACL

  [ Brian Behlendorf ]
  * Create unique partition labels

  [ Colin Ian King ]
  * Fix inverted logic on none elevator comparison

  [ Brian Behlendorf ]
  * Linux 4.6 compat: PAGE_CACHE_SIZE removal

  [ Colin Ian King ]
  * Add support 32 bit FS_IOC32_{GET|SET}FLAGS compat ioctls

  [ Chunwei Chen ]
  * Remove wrong ASSERT in annotate_ecksum

  [ Brian Behlendorf ]
  * Fix 'zpool import' blkid device names
  * Use udev for partition detection

  [ Tim Chase ]
  * Enable PF_FSTRANS for ioctl secpolicy callbacks (#4571)

  [ Ned Bass ]
  * Prepare to tag zfs-0.6.5.7

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 13 May 2016 21:19:04 -0400

zfs-linux (0.6.5.6-1~trusty) trusty; urgency=low

  [ Paul Dagnelie ]
  * Illumos 6370 - ZFS send fails to transmit some holes

  [ Dimitri John Ledkov ]
  * Add support for s390[x].

  [ Brian Behlendorf ]
  * Remove RPM package restriction

  [ John Wren Kennedy ]
  * Illumos 5767 - fix several problems with zfs test suite

  [ Richard Yao ]
  * Add -gLp to zpool subcommands for alt vdev names

  [ Brian Behlendorf ]
  * Change full path subcommand flag from -p to -P
  * Prevent zpool_find_vdev() from truncating vdev path

  [ Tim Chase ]
  * Correctly parse -R flag arguments

  [ Richard Sharpe ]
  * Fix casesensitivity=insensitive deadlock
  * Handling negative dentries in a CI file system.

  [ Boris Protopopov ]
  * Make zvol minor functionality more robust
  * Add support for asynchronous zvol minor operations
  * Fix lock order inversion with zvol_open()

  [ Ned Bass ]
  * Prepare to tag zfs-0.6.5.6

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 23 Mar 2016 19:48:46 -0400

zfs-linux (0.6.5.5-1~trusty) trusty; urgency=low

  [ Ned Bass ]
  * Prevent SA length overflow

  [ Brian Behlendorf ]
  * Add zfs_object_mutex_size module option
  * Fix zsb->z_hold_mtx deadlock
  * Close possible zfs_znode_held() race

  [ Chunwei Chen ]
  * Prevent duplicated xattr between SA and dir

  [ Tim Chase ]
  * Prevent arc_c collapse (Closes: #3904, #4161)

  [ Christian Neukirchen ]
  * mount.zfs: use getopt_long instead of getopt to guarantee permutation of argv.

  [ Hajo Möller ]
  * Make arc_summary.py and dbufstat.py compatible with python3

  [ Olaf Faaland ]
  * Create zfs-kmod-debuginfo rpm with redhat spec file

  [ Brian Behlendorf ]
  * Linux 4.5 compat: get_link() / put_link()
  * Linux 4.5 compat: xattr list handler
  * Linux 4.5 compat: pfn_t typedef
  * Fix maybe uninitialized

  [ Ned Bass ]
  * Prepare to tag zfs-0.6.5.5

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 10 Mar 2016 20:42:12 -0500

zfs-linux (0.6.5.4-1~trusty) trusty; urgency=low

  [ Chunwei Chen ]
  * Linux 4.4 compat: make_request_fn returns blk_qc_t
  * Linux 4.4 compat: xattr operations takes xattr_handler

  [ DHE ]
  * Make zio_taskq_batch_pct user configurable

  [ Kamil Domański ]
  * Skip GPL-only symbols test when cross-compiling

  [ Brian Behlendorf ]
  * Fix vdev_queue_aggregate() deadlock
  * Set 'zfs_expire_snapshot=0' to disable auto-unmount

  [ Chunwei Chen ]
  * Fix snapshot automount behavior when concurrent or fail
  * Use spa as key besides objsetid for snapentry

  [ Brian Behlendorf ]
  * Change zfs_snapshot_lock from mutex to rw lock

  [ Chunwei Chen ]
  * Fix snapshot automount race cause EREMOTE

  [ Brian Behlendorf ]
  * Hold the zfs_snapentry_t before dispatch
  * Either _ILP32 or _LP64 must be defined
  * Fix zfsctl_lookup_objset() deadlock

  [ Olaf Faaland ]
  * Remove "index" column from dbufstat.py

  [ cable2999 ]
  * Update arcstat.py to remove deprecated rmis reference.

  [ Brian Behlendorf ]
  * Add zap_prefetch() interface

  [ tuxoko ]
  * Prevent rm modules.* when make install

  [ Brian Behlendorf ]
  * Fix --enable-linux-builtin

  [ tuxoko ]
  * Fix null pointer in arc_kmem_reap_now on 32-bit
  * Fix zfs_dirty_data_max overflow on 32-bit

  [ Brian Behlendorf ]
  * Add TEST configuration file for buildbot
  * Follow 0/-E convention for module load errors

  [ Jason Zaman ]
  * sysmacros: Make P2ROUNDUP not trigger int overflow

  [ Brian Behlendorf ]
  * Fix z_xattr_lock/z_teardown_lock inversion

  [ Chunwei Chen ]
  * Fix fail path in zfs_znode_alloc
  * Fix empty xattr dir causing lockup
  * Make xattr dir truncate and remove in one tx

  [ Ned Bass ]
  * Prepare to tag zfs-0.6.5.4

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 08 Jan 2016 21:56:39 -0500

zfs-linux (0.6.5.3-1~trusty) trusty; urgency=low

  [ James Lee ]
  * zfs-import: Perform verbatim import using cache file

  [ Chunwei Chen ]
  * Fix use-after-free in vdev_disk_physio_completion

  [ Justin T. Gibbs ]
  * Illumos 6267 - dn_bonus evicted too early

  [ Ned Bass ]
  * Prepare to tag zfs-0.6.5.3

 -- Darik Horn <dajhorn@vanadac.com>  Mon, 19 Oct 2015 19:34:51 -0400

zfs-linux (0.6.5.2-1~trusty) trusty; urgency=low

  [ yuina822 ]
  * Add extra_started_commands because reload function is not default
  * Fixed --signal typo

  [ Lukas Wunner ]
  * Linux 4.3 compat: bio_end_io_t / BIO_UPTODATE

  [ Brian Behlendorf ]
  * Allow NFS activity to defer snapshot unmounts
  * Disable zpl_nr_cached_objects() callback
  * Avoid blocking in arc_reclaim_thread()
  * Fix synchronous behavior in __vdev_disk_physio()
  * Revert "dmu_objset_userquota_get_ids uses dn_bonus unsafely"

  [ Richard Yao ]
  * Userspace can pass zero length segments via writev/readv

  [ Chunwei Chen ]
  * Fix uioskip crash when skip to end

  [ Turbo Fredriksson ]
  * Init script fixes

  [ Nathaniel Clark ]
  * Always remove during spl-dkms uninstall/update

  [ Ned Bass ]
  * Prepare to tag zfs-0.6.5.2

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 30 Sep 2015 14:17:43 -0400

zfs-linux (0.6.5.1-1~trusty) trusty; urgency=low

  [ Richard Yao ]
  * Discard on zvols should not exceed the length of a block

  [ Brian Behlendorf ]
  * Fix NULL as mount(2) syscall data parameter

  [ Ned Bass ]
  * Honor xattr=sa dataset property
  * Tag zfs-0.6.5.1

  [ Darik Horn ]
  * Revert "Add 0004-Discard-on-zvols-should-not-exceed-the-length-of-a-b.patch"

 -- Darik Horn <dajhorn@vanadac.com>  Mon, 21 Sep 2015 20:55:52 -0400

zfs-linux (0.6.5-2~trusty) trusty; urgency=high

  * Add 0004-Discard-on-zvols-should-not-exceed-the-length-of-a-b.patch

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 18 Sep 2015 21:49:02 -0400

zfs-linux (0.6.5-1~trusty) trusty; urgency=low

  [ Tim Chase ]
  * Allocate zfs_znode_cache on the Linux slab

  [ DHE ]
  * Rebuild init scripts on source file updates

  [ Turbo Fredriksson ]
  * Document bookmarks a little better in zfs(8)

  [ Brian Behlendorf ]
  * Mark additional functions as PF_FSTRANS

  [ Chris Dunlap ]
  * Fix io-spare.sh to work with disk vdevs

  [ DHE ]
  * Fix formatting error in zfs(8)

  [ Brian Behlendorf ]
  * Extend PF_FSTRANS critical regions

  [ Tim Chase ]
  * Support the "version" property on volumes via the zfs_prop_get_int() API

  [ Chunwei Chen ]
  * Fix kernel panic due to tsd_exit in ZFS_EXIT(zsb)

  [ cburroughs ]
  * align zfs_autoimport_disable manpage with reality

  [ Ned Bass ]
  * Serialize access to spa->spa_feat_stats nvlist

  [ Paul B. Henson ]
  * 5410 Document -S option to zfs inherit

  [ Justin T. Gibbs ]
  * 5313 Allow I/Os to be aggregated across ZIO priority classes

  [ Isaac Huang ]
  * Memory leak in make_root_vdev()
  * Remove useless variable spa_active_count

  [ Chris Dunlap ]
  * Cleanup ZEDLETs
  * Replace "email" ZEDLETs with "notify" ZEDLETs
  * Add support for Pushbullet notifications
  * Add notification to io-spare.sh
  * Combine data-notify.sh with io-notify.sh

  [ tuxoko ]
  * Fix misuse of input argument in traverse_visitbp

  [ Matthew Ahrens ]
  * Illumos 5134 - if ZFS_DEBUG or debug= is set, libzpool should enable debug prints

  [ Jerry Jelinek ]
  * Illumos 3897 - zfs filesystem and snapshot limits

  [ Alex Reece ]
  * Illumos 3897 - zfs filesystem and snapshot limits (fix leak)

  [ Jorgen Lundman ]
  * Illumos 4975 - missing mutex_destroy() calls in zfs

  [ Alex Reece ]
  * Illumos 4873 - zvol unmap calls can take a very long time for larger datasets

  [ Justin T. Gibbs ]
  * Illumos 5038 - Remove "old-style" flexible array usage in ZFS.

  [ Alex Reece ]
  * Illumos 5095 - panic when adding a duplicate dbuf to dn_dbufs

  [ Justin T. Gibbs ]
  * Illumos 5310 - Remove always true tests for non-NULL ds->ds_phys
  * Illumos 5314 - Remove "dbuf phys" db->db_data pointer aliases in ZFS
  * Illumos 5056 - ZFS deadlock on db_mtx and dn_holds
  * Illumos 5531 - NULL pointer dereference in dsl_prop_get_ds()
  * Illumos 5592 - NULL pointer dereference in dsl_prop_notify_all_cb()

  [ Matthew Ahrens ]
  * Illumos 5812 - assertion failed in zrl_tryenter(): zr_owner==NULL

  [ George Wilson ]
  * Illumos #5244 - zio pipeline callers should explicitly invoke next stage

  [ Jason Zaman ]
  * dmu: fix integer overflows

  [ tuxoko ]
  * Add cond_resched to zfs_zget to prevent infinite loop

  [ Matthew Ahrens ]
  * Illumos 3654,3656

  [ Jerry Jelinek ]
  * Illumos 4901 - zfs filesystem/snapshot limit leaks

  [ Max Grossman ]
  * Illumos 4373 - add block contents print to zstreamdump

  [ Matthew Ahrens ]
  * Illumos 4951 - ZFS administrative commands should use reserved space

  [ Christopher Siden ]
  * Illumos 4951 - ZFS administrative commands (fix)

  [ Turbo Fredriksson ]
  * Add the '-a' option to 'zpool export' (Closes: #3203)

  [ Will Andrews ]
  * Illumos 5814 - bpobj_iterate_impl(): Close a refcount leak iterating on a sublist.

  [ Matthew Ahrens ]
  * Illumos 5808 - spa_check_logs is not necessary on readonly pools
  * Illumos 5820 - verify failed in zio_done(): BP_EQUAL(bp, io_bp_orig)
  * Illumos 5348 - zio_checksum_error() only fills in info if ECKSUM

  [ Chris Dunlop ]
  * Wait for all znodes to be released before tearing down the superblock

  [ Matthew Ahrens ]
  * Illumos 5349 - verify that block pointer is plausible before reading

  [ Chris Dunlop ]
  * arc_evict, arc_evict_ghost: reduce stack usage using kmem_zalloc

  [ Brian Behlendorf ]
  * Remove metaslab_min_alloc_size module option
  * Fix type mismatch on 32-bit systems

  [ Matthew Ahrens ]
  * Illumos 5027 - zfs large block support

  [ Brian Behlendorf ]
  * ztest should randomly change recordsize

  [ David Lamparter ]
  * Safely handle security / ACL failures

  [ Chris Dunlap ]
  * Update ZED copyright boilerplate

  [ Tim Chase ]
  * Linux 2.6.36 compat, use REQ_FAILFAST_MASK and remove pre-2.6.36 support

  [ Alex Reece ]
  * Illumos 5422 - preserve AVL invariants in dn_dbufs

  [ Matthew Ahrens ]
  * Illumos 5350 - clean up code in dnode_sync()
  * Illumos 5351, 5352 - scrub pauses
  * Illumos 5810 - zdb should print details of bpobj

  [ Justin T. Gibbs ]
  * Illumos 5562 - ZFS sa_handle's violate kmem invariants, debug kernels panic on boot
  * Illumos 5393 - spurious failures from dsl_dataset_hold_obj()

  [ Max Grossman ]
  * Illumos 5765 - add support for estimating send stream size with lzc_send_space when source is a bookmark

  [ Brian Behlendorf ]
  * Remove unused 'dsl_pool_t *dp' variable

  [ Antonio Russo ]
  * Relax restriction on zfs_ioc_next_obj() iteration

  [ Jan Sanislo ]
  * Return -ESTALE to force lookup for missing NFS file handles

  [ Tim Chase ]
  * Zdb should be able to open the root dataset

  [ Matthew Ahrens ]
  * Illumos 5243 - zdb -b could be much faster

  [ Alexander Eremin ]
  * Illumos 5847 - libzfs_diff should check zfs_prop_get() return

  [ Tim Chase ]
  * Initialize dbu_tqent in dmu_buf_init_user()

  [ Turbo Fredriksson ]
  * The mount helper mount.zfs MUST be in /sbin (not '$sbindir').

  [ Hajo Möller ]
  * Change 3-digit octal escapes to 4-digit ones

  [ Turbo Fredriksson ]
  * Style check shell scripts

  [ Brian Behlendorf ]
  * Wait in libzfs_init() for the /dev/zfs device
  * Add libzfs_error_init() function
  * Use ExecStartPre to load zfs modules

  [ Turbo Fredriksson ]
  * Base init scripts for SYSV systems
  * SYSV init script fixes.

  [ Ned Bass ]
  * dbuf_try_add_ref minor bug fixes
  * dmu_objset_userquota_get_ids uses dn_bonus unsafely

  [ Turbo Fredriksson ]
  * Improve on the ZFS events documentation

  [ Arne Jansen ]
  * Illumos 5269 - zpool import slow

  [ Matthew Ahrens ]
  * Illumos 5818 - zfs {ref}compressratio is incorrect with 4k sector size

  [ Brian Behlendorf ]
  * Remove unused variable in vdev_add_child()

  [ Tim Chase ]
  * Revert "arc_evict, arc_evict_ghost: reduce stack usage using kmem_zalloc"
  * Revert "fix l2arc compression buffers leak"
  * Revert "Allow arc_evict_ghost() to only evict meta data"
  * Partially revert "Add ddt, ddt_entry, and l2arc_hdr caches"

  [ George Wilson ]
  * Illumos 5369 - arc flags should be an enum

  [ Chris Williamson ]
  * Illumos 5408 - managing ZFS cache devices requires lots of RAM

  [ Prakash Surya ]
  * Illumos 5497 - lock contention on arcs_mtx

  [ Brian Behlendorf ]
  * Add taskq_wait_outstanding() function
  * Use taskq_wait_outstanding() function
  * Make arc_prune() asynchronous

  [ Tim Chase ]
  * Increase arc_c_min to allow safe operation of arc_adapt()

  [ Brian Behlendorf ]
  * Rename cv_wait_interruptible() to cv_wait_sig()
  * Wait interruptibly in prefetch thread

  [ Hajo Möller ]
  * Add -y option to `zpool iostat`

  [ Tim Chase ]
  * 3.12 compat, NUMA-aware per-superblock shrinker

  [ Brian Behlendorf ]
  * Unify mount and share for 'zfs create/clone'

  [ Turbo Fredriksson ]
  * Additional SYSV init script fixes.

  [ Sören Tempel ]
  * Refactor dracut module
  * Force export if it failed the first time
  * Only source '/lib/dracut-lib.sh' if it wasn't so far
  * Update dracut README

  [ Matus Kral ]
  * Linux 4.1 compat: use read_iter() / write_iter()

  [ Brian Behlendorf ]
  * Increase the number of iput taskq threads
  * Add zfs_sb_prune_aliases() function

  [ Etienne Dechamps ]
  * Allocate disk space fairly in the presence of vdevs of unequal size.
  * Document metaslab_aliquot.
  * Make metaslab_aliquot a module parameter.

  [ Richard Yao ]
  * zfsdev_getminor() should check for invalid file handles

  [ Brian Behlendorf ]
  * Add IMPLY() and EQUIV() macros

  [ Prakash Surya ]
  * Illumos 5701 - zpool list reports incorrect "alloc" value for cache devices

  [ Andriy Gapon ]
  * Account for ashift when gathering buffers to be written to l2arc device

  [ Brian Behlendorf ]
  * Update all default taskq settings

  [ George Wilson ]
  * Illumos 5163 - arc should reap range_seg_cache

  [ Matthew Ahrens ]
  * Illumos 5368 - ARC should cache more metadata

  [ Turbo Fredriksson ]
  * Revert "Additional SYSV init script fixes."
  * Additional SYSV init script fixes (3).

  [ Don Brady ]
  * zdb -d has false positive warning when feature@large_blocks=disabled
  * Fix for recent zdb -h | -i crashes (seg fault)

  [ Brian Behlendorf ]
  * Add ziltest.sh

  [ Tim Chase ]
  * Remove l2ad_evict from zfs_l2arc_evict_class

  [ Turbo Fredriksson ]
  * Add /dev/mapper to the list of possible sources for pool devices.

  [ Matthew Ahrens ]
  * Illumos 5175 - implement dmu_read_uio_dbuf() to improve cached read performance

  [ Colin Ian King ]
  * man: fix spelling mistakes in manual

  [ Alek Pinchuk ]
  * Illumos 6033 - arc_adjust() should search MFU lists

  [ Andriy Gapon ]
  * Illumos 5912 - full stream can not be force-received into a dataset if it has a snapshot
  * Illumos 5909 - ensure that shared snap names don't become too long after promotion
  * Illumos 5870 - dmu_recv_end_check() leaks origin_head hold if error happens in drc_force branch
  * Illumos 5946, 5945

  [ Arne Jansen ]
  * Illumos 5981 - Deadlock in dmu_objset_find_dp

  [ Matthew Ahrens ]
  * Illumos 5911 - ZFS "hangs" while deleting file

  [ Alexander Motin ]
  * Illumos 5008 - lock contention (rrw_exit) while running a read only load

  [ Tim Chase ]
  * Prevent reclaim in metaslab preload threads

  [ Turbo Fredriksson ]
  * Initramfs scripts for ZoL.

  [ Brian Behlendorf ]
  * Move dracut directory to contrib

  [ Josef 'Jeff' Sipek ]
  * Illumos 4626 - libzfs memleak in zpool_in_use()
  * Illumos 4745 - fix AVL code misspellings

  [ George Wilson ]
  * Illumos 4966 - zpool list iterator does not update output

  [ Basil Crow ]
  * Illumos 5118 - When verifying or creating a storage pool, error messages only show one device

  [ Jan Kryl ]
  * Illumos 5427 - memory leak in libzfs when doing rollback

  [ Justin T. Gibbs ]
  * Illumos 5661 - ZFS: "compression = on" should use lz4 if feature is enabled

  [ Will Andrews ]
  * Illumos 5813 - zfs_setprop_error(): Handle errno value E2BIG.

  [ Richard Yao ]
  * Fix Xen Virtual Block Device detection

  [ Brian Behlendorf ]
  * Use truncate instead of fallocate in ziltest.sh
  * Disable gcc bool-compare warning
  * Fix switch-bool warning

  [ Boris Protopopov ]
  * Translate sync zio to sync bio

  [ Richard Yao ]
  * Failure of userland copy should return EFAULT

  [ Prasad Joshi ]
  * Illumos 1765 - assert triggered in libzfs_import.c

  [ Alexander Eremin ]
  * Illumos 5610 - zfs clone from different source and target pools produces coredump

  [ Manoj Joseph ]
  * Illumos 5764 - "zfs send -nv" directs output to stderr

  [ Matthew Ahrens ]
  * Illumos 5347 - idle pool may run itself out of space

  [ Brian Behlendorf ]
  * Linux 4.2 compat: bdi_setup_and_register()
  * Linux 4.2 compat: remove bio->bi_cnt access
  * Linux 4.2 compat: follow_link() / put_link()
  * Update inode under range lock

  [ Turbo Fredriksson ]
  * Support parallel build trees (VPATH builds)

  [ Brian Behlendorf ]
  * Add logic to try and recover an inode with an invalid mode
  * Set default _initconfdir directory

  [ Matthew Ahrens ]
  * Illumos 5376 - arc_kmem_reap_now() should not result in clearing arc_no_grow

  [ Prakash Surya ]
  * Illumos 5445 - Add more visibility via arcstats
  * Illumos 5817 - change type of arcs_size from uint64_t to refcount_t

  [ Brian Behlendorf ]
  * Reinstate zfs_arc_p_min_shift
  * Add hdr_recl() reclaim callback
  * Remove double counting HDR_L2ONLY_SIZE
  * Minor style cleanup

  [ Turbo Fredriksson ]
  * Fix some minor issues with the SYSV init and initramfs scripts.
  * Make sure that POOL_IMPORTED is set, unset and checked where appropriate.

  [ Brian Behlendorf ]
  * Check for NULL in dmu_free_long_range_impl()
  * Align thread priority with Linux defaults

  [ Frédéric VANNIÈRE ]
  * Fix build failure with Linux 4.1 and FTRACE

  [ Chunwei Chen ]
  * Fix "BUG: Bad page state" caused by writeback flag

  [ Brian Behlendorf ]
  * Bound zvol_threads module option
  * Update arc_available_memory() to check freemem
  * Update arc_memory_throttle() to check pageout

  [ Chris Dunlap ]
  * Fix whitespace in zed_log_err
  * Rework zed_notify_email for configurable PROG/OPTS

  [ Tim Chase ]
  * ztest: display non-index properties properly at verbose level 6

  [ Chris Dunlop ]
  * Linux 4.1 compat: configure bdi_setup_and_register()
  * Fix build failure with Linux 4.1 and FTRACE

  [ tuxoko ]
  * Add parenthesis to the ternary operator

  [ Richard Yao ]
  * Fix zvol detection

  [ Brian Behlendorf ]
  * Handle zap_lookup() failure in ddt_object_load()
  * Linux 4.2 compat: vfs_rename()

  [ Chunwei Chen ]
  * Add compatibility layer for {kmap,kunmap}_atomic
  * Linux 4.1 compat: loop device on ZFS

  [ Brian Behlendorf ]
  * Limit max_hw_sectors_kb to 16M
  * Check large block feature flag on volumes

  [ Tim Chase ]
  * Allow recovery from corrupted snapshot maps

  [ Andreas Buschmann ]
  * Add extra keyword 'slot' to vdev_id.conf

  [ Tim Chase ]
  * Initialize the taskq entry embedded within struct vdev

  [ Richard Yao ]
  * Some OpenRC dependency logic belongs in mount

  [ loli10K ]
  * Fix small typo

  [ Richard Yao ]
  * Clear QUEUE_FLAG_ADD_RANDOM on zvols

  [ Andrey Vesnovaty ]
  * zfsctl: No need to sync ctldir inodes

  [ Brian Behlendorf ]
  * Linux 3.18 compat: Snapshot auto-mounting
  * Linux 4.2 compat: misc_deregister()

  [ Richard Yao ]
  * Remove blk_queue_physical_block_size() autotools check
  * Remove blk_queue_io_opt() autotools check

  [ tuxoko ]
  * Check for RW_WRITE_HELD in zfs_inactive

  [ Richard Yao ]
  * Disable LBA weighting on files and SSDs

  [ James Lee ]
  * Reorder zfs-* services to allow /var on separate dataset

  [ Brian Behlendorf ]
  * Add spa_slop_shift module option

  [ Tim Chase ]
  * Dbuf hash table should be sized as is the arc hash table

  [ Richard Yao ]
  * VDEV_REQ_FUA should be mapped to REQ_FUA

  [ Brian Behlendorf ]
  * Add temporary mount options

  [ Tim Chase ]
  * Prevent reclaim in the traverse prefetch thread

  [ Richard Yao ]
  * zvol processing should use struct bio
  * Support secure discard on zvols
  * Remove rq_for_each_segment() autotools check
  * Remove rq_is_sync() autotools check
  * Remove blk_end_request() autotools check.
  * Remove blk_requeue_request() autotools check
  * Remove blk_fetch_request() autotools check
  * Remove blk_rq_pos() autotools check
  * Remove blk_rq_bytes()/blk_rq_sectors autotools checks
  * Remove blk_queue_discard() autotools check
  * Remove blk_queue_nonrot() autotools check

  [ Andrey Vesnovaty ]
  * Fix invalid fileid for snapshot root dentry

  [ Brian Behlendorf ]
  * Support accessing .zfs/snapshot via NFS
  * Add dbgmsg kstat

  [ SenH ]
  * Force create /run/sendsigs.omit.d link when starting zed

  [ Richard Yao ]
  * Reintroduce IO accounting on zvols on Linux 3.19+

  [ Brian Behlendorf ]
  * Prefetch start and end of volumes

  [ Arne Jansen ]
  * Illumos 6214 - zpools going south

  [ Brian Behlendorf ]
  * Tag zfs-0.6.5

  [ Darik Horn ]
  * Refresh debian/patches after upstream merge.

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 11 Sep 2015 19:03:48 -0400

zfs-linux (0.6.4.2-1~trusty) trusty; urgency=low

  [ Brian Behlendorf ]
  * Wait in libzfs_init() for the /dev/zfs device
  * Use ExecStartPre to load zfs modules
  * Wait interruptibly in prefetch thread

  [ Tim Chase ]
  * Linux 3.12 compat: NUMA-aware per-superblock shrinker

  [ Matus Kral ]
  * Linux 4.1 compat: use read_iter() / write_iter()

  [ Brian Behlendorf ]
  * Add zfs_sb_prune_aliases() function

  [ Chris Dunlop ]
  * Wait for all znodes to be released before tearing down the superblock

  [ tuxoko ]
  * Add cond_resched to zfs_zget to prevent infinite loop

  [ Ned Bass ]
  * Serialize access to spa->spa_feat_stats nvlist
  * Tag zfs-0.6.4.2

  [ Darik Horn ]
  * Refresh debian/patches after upstream merge.

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 09 Jul 2015 22:32:14 -0400

zfs-linux (0.6.4.1-1~trusty) trusty; urgency=low

  [ Tim Chase ]
  * Allocate zfs_znode_cache on the Linux slab

  [ Brian Behlendorf ]
  * Mark additional functions as PF_FSTRANS

  [ Chris Dunlap ]
  * Fix io-spare.sh to work with disk vdevs

  [ Brian Behlendorf ]
  * Extend PF_FSTRANS critical regions
  * Tag zfs-0.6.4.1

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 24 Apr 2015 16:37:54 -0500

zfs-linux (0.6.4-3~trusty) trusty; urgency=low

  [ SenH ]
  * Fix man zpool property feature_guid

  [ Turbo Fredriksson ]
  * Add information about the -o option to zpool replace

  [ Brian Behlendorf ]
  * Improve differing sector size error

  [ Tim Chase ]
  * Comment the lack of real_LZ4_uncompress()

  [ Dan McDonald ]
  * Illumos #4936 fix potential overflow in lz4

  [ Tim Chase ]
  * Return default value on numeric properties failing the "head check.
  * Document the optional "device" argument for "zpool split"

  [ Garrison Jensen ]
  * Fix comment spelling errors.

  [ Andrew Barnes ]
  * Preserve asize when last mirror child promoted to top-level vdev

  [ Matthew Ahrens ]
  * Illumos #3641 compressed block histograms with zdb

  [ Tim Chase ]
  * Convert zfs_mg_noalloc_threshold to a module parameter and document

  [ George Wilson ]
  * Illumos 4168, 4169, 4170: ztest, zdb and zhack fixes

  [ Richard Yao ]
  * zdb: Introduce -V for verbatim import

  [ Brian Behlendorf ]
  * Fix zil_commit() NULL dereference

  [ Prakash Surya ]
  * Move metaslab_group_alloc_update() call

  [ George Wilson ]
  * Illumos #4101, #4102, #4103, #4105, #4106
  * Illumos #4730 destroy metaslab group taskq
  * Illumos #4756 Fix metaslab_group_preload deadlock

  [ Brian Behlendorf ]
  * zfs_trunc() should use dmu_tx_assign(tx, TXG_WAIT)

  [ Jan Engelhardt ]
  * Do not attempt access beyond the declared end of the dn_blkptr array

  [ Brian Behlendorf ]
  * Revert "Disable GCCs aggressive loop optimization"
  * zpool-create.sh: allow features to be disabled

  [ Turbo Fredriksson ]
  * Initial attempt to document events and payloads.
  * Support '-H' (scripted mode) to 'zpool get' (Closes: #2522)

  [ Brian Behlendorf ]
  * Remove patches directory

  [ Matthew Ahrens ]
  * Illumos 4171, 4172

  [ Max Grossman ]
  * Illumos 4370, 4371

  [ Matthew Ahrens ]
  * Illumos 4368, 4369.
  * Illumos #4374

  [ George Wilson ]
  * Illumos 4754, 4755

  [ Tim Chase ]
  * zed needs libzfs_core

  [ Matthew Ahrens ]
  * Illumos 3835 zfs need not store 2 copies of all metadata
  * Illumos 4757, 4913
  * Illumos 4390 - I/O errors can corrupt space map when deleting fs/vol

  [ Saso Kiselkov ]
  * Illumos 4897 - Space accounting mismatch in L2ARC/zpool

  [ Matthew Ahrens ]
  * Illumos 4881 - zfs send performance regression with embedded data
  * Illumos 4914 - zfs on-disk bookmark structure should be named *_phys_t

  [ Turbo Fredriksson ]
  * Add bash completions by Aneurin Price.

  [ Brian Behlendorf ]
  * Use KM_PUSHPAGE in dsl_dataset_rollback_check()
  * Avoid dynamic allocation of 'search zio'
  * Avoid 128K kmem allocations in mzap_upgrade()
  * Add zfs_iput_async() interface
  * Revert "Revert "Revert "Fix unlink/xattr deadlock"""

  [ Alec Salazar ]
  * Replace __va_list with va_list
  * Avoid PAGESIZE redefinition

  [ Evan Susarret ]
  * Correct autodetection of bootfs property

  [ Richard Yao ]
  * Include sys/taskq.h in linux/vfs_compat.h

  [ Turbo Fredriksson ]
  * Create an 'overlay' property (Closes: #2503)

  [ George Wilson ]
  * Illumos 4976-4984 - metaslab improvements

  [ Tim Chase ]
  * Don't upgrade a metaslab when the pool is not writable

  [ Richard Yao ]
  * Drive database update

  [ Matthew Ahrens ]
  * Illumos 4631 - zvol_get_stats triggering too many reads

  [ Isaac Huang ]
  * Fixed memory leaks in zevent handling

  [ Andrew Hamilton ]
  * 2493 change efi_rescan() to wait longer

  [ Matthew Ahrens ]
  * Illumos 5034 - ARC's buf_hash_table is too small
  * Illumos 4970-4974 - extreme rewind enhancements

  [ Brian Behlendorf ]
  * Retire HAVE_IOCTL_* configure checks

  [ Turbo Fredriksson ]
  * Add a pkgconfig file (Closes: #585)

  [ Brian Behlendorf ]
  * Add a missing > to AUTHORS

  [ Chris Dunlap ]
  * Fix race condition with zed pidfile creation
  * Cleanup zed logging

  [ Ralf Ertzinger ]
  * Change startup mode of ZED

  [ louwrentius ]
  * Change delimiter for ZED email scripts

  [ Dan Swartzendruber ]
  * Improve handling of filesystem versions (Closes: #2616)

  [ Alexey Smirnoff ]
  * Change the default 'zfs_dedup_prefetch' value to '0'

  [ alteriks ]
  * Import zfs pools after cryptsetup

  [ Stanislav Seletskiy ]
  * Fix invalid locking order in rename operation

  [ Alex Reece ]
  * Illumos 5049 - panic when removing log device

  [ ilovezfs ]
  * Fragmentation should display as '-' if spacemap_histogram=disabled

  [ Richard Yao ]
  * Linux AIO Support

  [ Brian Behlendorf ]
  * Add object type checking to zap_lockdir()

  [ George Wilson ]
  * Illumos 5117 - spacemap reallocation can cause corruption

  [ Tim Chase ]
  * Implement fallocate FALLOC_FL_PUNCH_HOLE
  * Document the "readonly" pool property

  [ Brian Behlendorf ]
  * Fix z_teardown_inactive_lock deadlock

  [ Turbo Fredriksson ]
  * Document environment variables for zdb, zfs, zinject and zpool.

  [ Matthew Ahrens ]
  * Illumos 5140 - message about "%recv could not be opened" is printed when booting after crash

  [ Chris Dunlap ]
  * Remove reverse indentation from zed comments.

  [ Ned Bass ]
  * Remove obsolete comment about guard pages

  [ Adam Leventhal ]
  * Illumos 5174 - add sdt probe for blocked read in dbuf_read()

  [ Matthew Ahrens ]
  * Illumos 5177 - remove dead code from dsl_scan.c
  * Illumos 5161 - add tunable for number of metaslabs per vdev

  [ George Wilson ]
  * Illumos 5147 - zpool list -v should show individual disk capacity

  [ Richard Yao ]
  * Properly NULL terminate string in zfs_strcmp_pathname
  * Fix function call with uninitialized value in vdev_inuse
  * lib/libzpool/kernel.c: Assert no owners in rw_destroy()

  [ Matthew Ahrens ]
  * Illumos 5139 - SEEK_HOLE failed to report a hole at end of file
  * Illumos 5135 - zpool_find_import_cached() can use fnvlist_*
  * Illumos 5116 - zpool history -i goes into infinite loop

  [ Alex Reece ]
  * Illumos 4753 - increase number of outstanding async writes when sync task is waiting

  [ Max Grossman ]
  * Illumos 5138 - add tunable for maximum number of blocks freed in one txg

  [ Chris Dunlap ]
  * Fix zed io-spare.sh dash incompatibility
  * Replace zed's use of malloc with calloc
  * Refer to ZED's scripts as ZEDLETs

  [ Tim Chase ]
  * Perform whole-page page truncation for hole-punching under a range lock

  [ Brian Behlendorf ]
  * Make user stack limit configurable

  [ Richard Yao ]
  * Add add_prop_list_default helper
  * zpool import -t should not update cachefile
  * Implement -t option to zpool create for temporary pool names

  [ smh ]
  * FreeBSD PR kern/172259: Fixes zfs receive errors

  [ Andriy Gapon ]
  * zfs send -p send properties only for snapshots that are actually sent

  [ Chris Dunlap ]
  * Obtain advisory lock on ZED PID file
  * Cleanup struct zed_conf vars in zed_conf_destroy

  [ Lukas Wunner ]
  * Amend Dracut module to export ZFS root on shutdown

  [ Matthew Ahrens ]
  * Illumos 5176 - lock contention on godfather zio

  [ Turbo Fredriksson ]
  * Add an example for 'zfs bookmark' to the Example section.

  [ Brian Behlendorf ]
  * Fix CPU_SEQID use in preemptible context
  * Improve VERIFY() error in dmu_write()

  [ Turbo Fredriksson ]
  * Add a stern warning about dedup

  [ Tom Prince ]
  * Install header during post-build rather than post-install.
  * Point dkms build at installed source tree, rather than build directory.

  [ Brian Behlendorf ]
  * Fix source_tree variable in dkms build

  [ Ned Bass ]
  * ztest: print backtrace on SIGSEGV and SIGABRT

  [ Brian Behlendorf ]
  * Make license compatibility checks consistent
  * Update code to use misc_register()/misc_deregister()
  * Remove shrink_dcache_memory() and shrink_icache_memory()
  * Update utsname support
  * Handle NULL mirror child vdev

  [ Darik Horn ]
  * Let `zpool import` ignore a missing hostid record.

  [ Brian Behlendorf ]
  * Suppress AIO kmem warnings

  [ Daniil Lunev ]
  * Illumos 4924 - LZ4 Compression for metadata

  [ Tim Chase ]
  * Don't perform ACL-to-mode translation on empty ACL

  [ Matthew Ahrens ]
  * Illumos 3693 - restore_object uses at least two transactions to restore an object
  * Illumos 5150 - zfs clone of a defer_destroy snapshot causes strangeness
  * Illumos 5162 - zfs recv should use loaned arc buffer to avoid copy

  [ Ned Bass ]
  * Remove checks for mandatory locks

  [ Brian Behlendorf ]
  * Handle block pointers with a corrupt logical size

  [ ilovezfs ]
  * Fix zpool create -t ENOENT bug.

  [ Matthew Ahrens ]
  * Illumos 5178 - zdb -vvvvv on old-format pool fails in dump_deadlist()
  * Illumos 5169-5171 - zdb fixes

  [ Brian Behlendorf ]
  * Fix zdb segfault

  [ Alex Reece ]
  * Illumos 4958 zdb trips assert on pools with ashift >= 0xe

  [ Matthew Ahrens ]
  * Illumos 5164-5165 - space map fixes

  [ Tim Chase ]
  * Linux 3.12 compat: shrinker semantics

  [ Richard Yao ]
  * Kernel header installation should respect --prefix
  * Search /usr/local/src for SPL Object Directory
  * Make directory into which mount.zfs is installed configurable
  * Make systemd-modules-load.service file directory configurable

  [ Alexander Pyhalov ]
  * Fix modules installation directory

  [ Marcel Wysocki ]
  * Add config/compile to config/.gitignore

  [ Dan Swartzendruber ]
  * Improve zvol symlink handling.

  [ Alex Zhuravlev ]
  * Export symbols for ZIL interface

  [ Chris Wedgwood ]
  * Reduce buf/dbuf mutex contention

  [ Isaac Huang ]
  * Fix inaccurate field descriptions
  * Print header properly when terminal resizes

  [ Prakash Surya ]
  * Illumos 5213 - panic in metaslab_init due to space_map_open returning ENXIO

  [ Randall Mason ]
  * Fix small spelling mistake

  [ Ned Bass ]
  * Move a few internal ARC strucutres to arc_impl.h
  * Fix dprintf format specifiers
  * cstyle: allow right paren on its own line

  [ Prakash Surya ]
  * Swap DTRACE_PROBE* with Linux tracepoints

  [ Tim Chase ]
  * Undirty freed spill blocks.

  [ smh ]
  * Prevent ZFS leaking pool free space

  [ Ned Bass ]
  * Fix improper null-byte termination handling
  * Explicitly include SPL compat headers

  [ Isaac Huang ]
  * bio_alloc() with __GFP_WAIT never returns NULL

  [ Dan Swartzendruber ]
  * Fix systemd config for zfs-share.service

  [ Brian Behlendorf ]
  * Fix snapshots with dirty inodes

  [ Dan Swartzendruber ]
  * Improve systemd script to not leave stale sharetab

  [ Jacek Fefliński ]
  * zpool upgrade return errors to stderr instead of stdout

  [ Andy Bakun ]
  * Fix typo in %post scriptlet lines

  [ Boris Protopopov ]
  * Correct error returns to unify cross-pool operation error handling

  [ Brian Behlendorf ]
  * Fix cstyle issue from c66989b

  [ Ned Bass ]
  * vdev_id: use mawk-compatible regular expression

  [ Brian Behlendorf ]
  * Fix zfs_putpage() lock inversion

  [ Ned Bass ]
  * Remove duplicate typedefs from trace.h
  * Don't use AC_LANG_SOURCE for conftest.h source
  * Document zfs_flags module parameter

  [ Brian Behlendorf ]
  * Fix zfs_putpage() lock inversion (again)
  * Mark IO pipeline with PF_FSTRANS

  [ Richard Yao ]
  * Use is_vmalloc_addr() in vdev_disk.c

  [ Brian Behlendorf ]
  * Retire KM_NODEBUG
  * Change KM_PUSHPAGE -> KM_SLEEP
  * Add kmem_cache.h include to default context
  * Revert "Pre-allocate vdev I/O buffers"
  * Revert "SA spill block cache"

  [ Tim Chase ]
  * Linux 3.12 compat: split shrinker has s_shrink

  [ Richard Yao ]
  * Use kmem_vasprintf() in log_internal()

  [ Tim Chase ]
  * Fix removal of SA in sa_modify_attrs()

  [ cburroughs ]
  * Add arc_summary.py from FreeNAS
  * Modified arc_summary.py to run on linux

  [ Kyle Blatter ]
  * Refactor arc_summary to simplify -p processing
  * Add a help option with usage information
  * Force all lines to be 80 columns
  * Replace sysctl summary with tunables summary.

  [ Brian Behlendorf ]
  * Make `zpool import -d|-c` behave consistently

  [ Richard Yao ]
  * Use (void) memcpy(), not (void *) memcpy()

  [ Brian Behlendorf ]
  * Add zvol_open() error handling for readonly property
  * Handle closing an unopened ZVOL

  [ Chris Dunlap ]
  * Protect against adding duplicate strings in ZED
  * Cleanup _zed_event_add_nvpair()

  [ Brian Behlendorf ]
  * Use zio buffers in zil_itx_create()

  [ avg ]
  * fix l2arc compression buffers leak

  [ Tim Chase ]
  * Spurious ENOMEM returns when reading dbufs kstat

  [ Chunwei Chen ]
  * Read spl_hostid module parameter before gethostid()
  * Fix build error when make deb

  [ Brian Behlendorf ]
  * Skip evicting dbufs when walking the dbuf hash

  [ Ned Bass ]
  * Fix SA header size accounting

  [ Justin T. Gibbs ]
  * Illumos 5311 - traverse_dnode may report success when it should not

  [ Lukas Wunner ]
  * Fix loop in Dracut shutdown script
  * Fix Dracut scripts to allow for blanks in pool and dataset names

  [ Brian Behlendorf ]
  * Don't read space maps during import for readonly pools

  [ Tim Chase ]
  * Produce a full snapshot list for zfs send -p

  [ Brian Behlendorf ]
  * Revert "Don't read space maps during import for readonly pools"
  * Use vmem_alloc() for nvlists

  [ Jörg Thalheim ]
  * Linux 3.19 compat: file_inode was added

  [ Brian Behlendorf ]
  * Retire zio_bulk_flags
  * Retire zio_cons()/zio_dest()

  [ Andrey Vesnovaty ]
  * Fix readdir for .zfs/snapshot directory

  [ Brian Behlendorf ]
  * Change VERIFY to ASSERT in mutex_destroy()

  [ Tim Chase ]
  * Enhancements to zpool dry run mode.

  [ Sören Tempel ]
  * Use test(1) in a proper way
  * Write directly to $initdir

  [ Brian Behlendorf ]
  * Skip bad DVAs during free by setting zfs_recover=1

  [ Dan Swartzendruber ]
  * Set zfs_autoimport_disable default value to 1

  [ Steffen Müthing ]
  * Add required files to initramfs
  * Fix error in dracut script if not using ZFS root

  [ Brian Behlendorf ]
  * Fix O_APPEND open(2) flag
  * Retire spl_module_init()/spl_module_fini()

  [ Christer Ekholm ]
  * Fix possible future overflow in zfs_nicenum

  [ Tim Chase ]
  * Avoid dladdr() in ztest

  [ Brian Behlendorf ]
  * Prevent "zpool destroy|export" when suspended

  [ Isaac Huang ]
  * Fix deadlock between zpool export and zfs list

  [ Brian Behlendorf ]
  * Use MUTEX_FSTRANS mutex type
  * Linux 4.0 compat: bdi_setup_and_register()
  * Change ASSERT(!"...") to  cmn_err(CE_PANIC, ...)

  [ Turbo Fredriksson ]
  * Install arc_summary.py

  [ Brian Behlendorf ]
  * Replace zfs.redhat.in with zfs.lsb.in init script

  [ Chris Dunlap ]
  * Add ZED to zfs.redhat.in script

  [ Ned Bass ]
  * Use cached feature info in spa_add_feature_stats()

  [ Hajo Möller ]
  * Actually source /etc/sysconfig/zfs instead of /etc/default/zfs

  [ Brian Behlendorf ]
  * Mark zfs_inactive() with PF_FSTRANS

  [ Josef 'Jeff' Sipek ]
  * Illumos 5047 - don't use atomic_*_nv if you discard the return value

  [ Justin T. Gibbs ]
  * Illumos 5630 - stale bonus buffer in recycled dnode_t leads to data corruption

  [ Bill McGonigle ]
  * Linux 4.0 compat: bdi_setup_and_register() __must_check

  [ Hajo Möller ]
  * Fix warning about AM_INIT_AUTOMAKE arguments

  [ Chunwei Chen ]
  * Use MUTEX_FSTRANS on l2arc_buflist_mtx

  [ Turbo Fredriksson ]
  * Move duplicate information about the 'zfs send -e' option.

  [ Richard Yao ]
  * Increase Linux pipe buffer size on 'zfs receive'

  [ Brian Behlendorf ]
  * Fix arc_meta_max accounting
  * Restructure per-filesystem reclaim
  * Fix arc_adjust_meta() behavior

  [ Chris Dunlop ]
  * Reduce size of zfs_sb_t: allocate z_hold_mtx separately

  [ Isaac Huang ]
  * zio_injection_enabled should not be a module option

  [ Gordan Bobic ]
  * Execute udevadm settle before trying to import pools

  [ Tim Chase ]
  * Set the maximum ZVOL transfer size correctly

  [ Ned Bass ]
  * dbuf_free_range() overzealously frees dbufs

  [ Brian Behlendorf ]
  * Check all vdev labels in 'zpool import'
  * Remove rpm/fedora directory
  * Add RHEL style kmod packages

  [ Ned Bass ]
  * Add NULL guard in zfs_zrlock_class event class
  * zpool import should honor overlay property

  [ Prakash Surya ]
  * Illumos 5695 - dmu_sync'ed holes do not retain birth time

  [ Chris Dunlop ]
  * Align code with Illumos

  [ George Wilson ]
  * Illumos 5694 - traverse_prefetcher does not prefetch enough

  [ Matthew Ahrens ]
  * Illumus 5693 - ztest fails in dbuf_verify: buf[i] == 0, due to dedup and bp_override

  [ Brian Behlendorf ]
  * Update zfs_pd_bytes_max default in zfs(8)

  [ Tim Chase ]
  * Mark all ZPL and ioctl functions as PF_FSTRANS

  [ Brian Behlendorf ]
  * Use vmem_alloc() in spa_config_write()
  * Tag zfs-0.6.4

  [ Darik Horn ]
  * Refresh debian/patches after upstream merge.
  * Package zed separately.
  * Prevent driver modprobe in the zed upstart job.

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 09 Apr 2015 12:54:21 -0500

zfs-linux (0.6.3-5~trusty) trusty; urgency=low

  [ Tom Prince ]
  * Install header during post-build rather than post-install.
  * Point dkms build at installed source tree, rather than build directory.

  [ Brian Behlendorf ]
  * Fix zil_commit() NULL dereference
  * Tag zfs-0.6.3-1.1

  [ Tim Chase ]
  * Linux 3.12 compat: shrinker semantics

  [ Ned Bass ]
  * Remove checks for mandatory locks

  [ Alex Zhuravlev ]
  * Export symbols for ZIL interface

  [ Tim Chase ]
  * Undirty freed spill blocks.
  * Don't perform ACL-to-mode translation on empty ACL

  [ Andy Bakun ]
  * Fix typo in %post scriptlet lines

  [ Brian Behlendorf ]
  * Tag zfs-0.6.3-1.2

  [ Darik Horn ]
  * Revert "Add patch: Fix zil_commit() NULL dereference"

 -- Darik Horn <dajhorn@vanadac.com>  Wed, 24 Dec 2014 22:35:25 -0600

zfs-linux (0.6.3-4~trusty) trusty; urgency=low

  * OpenZFS branding update.
  * Backport: vdev_id-use-mawk-compatible-regular-expression.patch

 -- Darik Horn <dajhorn@vanadac.com>  Fri, 19 Dec 2014 21:05:10 -0600

zfs-linux (0.6.3-3~trusty) trusty; urgency=low

  [ Darik Horn ]
  * Remove Debian support in the Ubuntu trunk.
  * Remove /etc/init.d/zfs-mount in the Ubuntu branches.
  * Add /etc/init/zpool-import.conf for Upstart.
  * Relax the /etc/hostid copy in the initramfs hook.
  * Update debian/patches through gbp-pq.
  * Bundle udev rules in the overlay.
  * Improve dash syntax in the zpool-import upstart task.
  * Cease zvol compatibility symlinking.

  [ Andreas Cadhalpun ]
  * Review of debian/copyright for zfs-linux.

  [ Darik Horn ]
  * Enable the dkms addon for debhelper.
  * Normalize the override_dh_auto_install rule.
  * Drop upstream component removal patches.
  * Prune unnecessary components in the DKMS distdir.
  * Add expat license to the debian/copyright file.
  * Update packaging to standards version 3.9.5
  * Reindent descriptions in the debian/control file.
  * Improve compliance with GNUCS chapter 7.2.2.
  * Ensure that DKMS automake stubs are not executable.
  * Move libzfs-dev symlinks from /lib to /usr/lib.
  * Kludge a Launchpad pbuilder quirk.
  * Check for META and DCH consistency in autoconf.
  * Move META handling from debian/rules to autoconf.
  * Create a zfs-doc package for shared files.
  * Add libuutil to LIBADD for libzfs and libzfs_core
  * Resume dh_shlibdeps reporting.
  * Add patch: Fix zil_commit() NULL dereference
  * Tighten the META_VERSION variable assignment.

 -- Darik Horn <dajhorn@vanadac.com>  Tue, 18 Nov 2014 09:50:47 -0600

zfs-linux (0.6.3-2~trusty) trusty; urgency=low

  * Refresh the init.d patch for Launchpad building.

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 12 Jun 2014 23:42:57 -0400

zfs-linux (0.6.3-1~trusty) trusty; urgency=low

  [ Aneurin Price ]
  * First version of zfs bash completions
  * Update bash completion
  * Improve bash completions for zfs get and list
  * Improve bash completion of user properties
  * Improve bash completions involving snapshots
  * Allow completions to expand more snapshot names
  * Assorted bash completion improvements

  [ Matthew Ahrens ]
  * Illumos #2882, #2883, #2900
  * Illumos #3464

  [ Aneurin Price ]
  * bash completion: use builtins where possible
  * Add completions for zfs snapshot, upgrade, destroy

  [ Tim Chase ]
  * Fix dmu_objset_find_dp() KM_SLEEP warning

  [ Richard Yao ]
  * Stop runtime pointer modifications in autotools checks

  [ Brian Behlendorf ]
  * Fix uninitialized variables
  * Fix zpl_mknod() return values

  [ Kohsuke Kawaguchi ]
  * Reduce the stack usage of dsl_dataset_remove_clones_key

  [ GregorKopka ]
  * Removing unneeded mutex for reading vq_pending_tree size

  [ Brian Behlendorf ]
  * Fix spa_deadman() TQ_SLEEP warning

  [ Tim Chase ]
  * Fix several new KM_SLEEP warnings
  * Allocate the ioctl "output" nvlist with KM_PUSHPAGE.

  [ Brian Behlendorf ]
  * Export addition dsl_prop_* symbols

  [ Richard Yao ]
  * Update drive database

  [ Brian Behlendorf ]
  * Fix memory leak false positive in log_internal()

  [ Ned Bass ]
  * Export symbols dsl_pool_config_{enter,exit}

  [ Neil Stockbridge ]
  * Update detach section of zpool(8)

  [ Richard Yao ]
  * Fix libblkid support
  * Generate libraries with correct DT_NEEDED entries
  * Fix libzfs_core changes to follow GNU libtool guidelines

  [ George Wilson ]
  * Illumos #3552

  [ Tim Chase ]
  * Add missing dsl pool configuration lock
  * Dedup-related documentation additions for zpool and zdb.

  [ Richard Yao ]
  * Linux 3.11 compat: Rename LZ4 symbols

  [ Brian Behlendorf ]
  * Increase default udev wait time

  [ Aneurin Price ]
  * Fix typo in bash completion

  [ Brian Behlendorf ]
  * Revert "Add new kstat for monitoring time in dmu_tx_assign"
  * Revert "Add txgs-<pool> kstat file"

  [ Prakash Surya ]
  * Add visibility in to arc_read

  [ Brian Behlendorf ]
  * Add visibility in to txg sync behavior
  * Add visibility in to dmu_tx_assign times
  * Add visibility in to cached dbufs
  * Add dbufstat.py command

  [ Steven Hartland ]
  * Corrected "zfs list -t <type>" syntax

  [ Ralf Ertzinger ]
  * Introduce zpool_get_prop_literal interface
  * Add -p switch to "zpool get"

  [ Richard Yao ]
  * Restructure zfs_readdir() to fix regressions

  [ Prakash Surya ]
  * Add script to fix file names in upstream patches

  [ Brian Behlendorf ]
  * Prevent xattr remove from creating xattr directory
  * Improve xattr property documentation

  [ Massimo Maggi ]
  * Posix ACL Support

  [ Richard Yao ]
  * Reintroduce uio_prefaultpages()
  * Fix order of function calls in zio_free_sync()
  * Fix incorrect usage of strdup() in zfs_unmount_snap()
  * Add missing copyright notices from Illumos
  * Add missing code to zfs_debug.{c,h}

  [ Brian Behlendorf ]
  * Add cstyle.pl utility and cstyle.1 man page

  [ George Wilson ]
  * Illumos #3522

  [ Matthew Ahrens ]
  * Illumos #3537

  [ George Wilson ]
  * Illumos #3561, #3116
  * Illumos #3578, #3579

  [ Matthew Ahrens ]
  * Illumos #3588
  * Illumos #3603, #3604: bobj improvements

  [ Yuri Pankov ]
  * Illumos #3517

  [ Matthew Ahrens ]
  * Illumos #3598
  * Illumos #3645, #3692

  [ George Wilson ]
  * Illumos #3642, #3643

  [ Mark Shellenbaum ]
  * 6939941 problem with moving files in zfs
  * 6977619 NULL pointer deference in sa_handle_get_from_db()

  [ Adam Leventhal ]
  * Illumos #3582, #3584

  [ Martin Matuska ]
  * Illumos #3699, #3739

  [ Will Andrews ]
  * Illumos #3741
  * Illumos #3742
  * Illumos #3743
  * Illumos #3744
  * Illumos #3745, #3811

  [ Steven Hartland ]
  * Illumos #3740
  * Illumos #3818

  [ Matthew Ahrens ]
  * Illumos #3829

  [ Keith M Wesolowski ]
  * Illumos #3894

  [ Matthew Ahrens ]
  * Illumos #3888

  [ Keith M Wesolowski ]
  * Illumos #3875

  [ George Wilson ]
  * Illumos #3236

  [ Matthew Ahrens ]
  * Illumos #3112, #3113, #3114
  * Illumos #3836
  * Illumos #3834

  [ Steven Hartland ]
  * Illumos #3909
  * Illumos #3973

  [ Matthew Ahrens ]
  * Illumos #3955

  [ George Wilson ]
  * Illumos #3949, #3950, #3952, #3953
  * Illumos #3956, #3957, #3958, #3959, #3960, #3961, #3962

  [ Matthew Ahrens ]
  * Illumos #3996
  * Illumos #4047

  [ Marcel Telka ]
  * Illumos #4061

  [ Matthew Ahrens ]
  * Illumos #4046

  [ George Wilson ]
  * Illumos #3954, #4080, #4081

  [ Matthew Ahrens ]
  * Illumos #4082

  [ George Wilson ]
  * Illumos #4168, #4169, #4170

  [ Saso Kiselkov ]
  * Illumos #3995

  [ Brian Behlendorf ]
  * Switch allocations from KM_SLEEP to KM_PUSHPAGE

  [ Matthew Ahrens ]
  * 26126 panic system rather than corrupting pool if we hit bug 26100

  [ Massimo Maggi ]
  * Honor CONFIG_FS_POSIX_ACL kernel option

  [ Tim Chase ]
  * Document the dedupditto pool property.
  * Handle concurrent snapshot automounts failing due to EBUSY.

  [ Matthew Thode ]
  * Updating init scripts to have more robust grepping

  [ Bassu ]
  * Explain 'zfs list -t snap -o name -s name' speedup

  [ Matthew Thode ]
  * pep8 code readability changes
  * Python 3 fixes

  [ Tim Chase ]
  * Fix rollback of mounted filesystem regression
  * Some nvlist allocations in hold processing need to use KM_PUSHPAGE.

  [ Brian Behlendorf ]
  * Reduce stack for traverse_visitbp() recursion

  [ Matthew Thode ]
  * Fixes (extends) support for selinux xattrs to more inode types

  [ Cyril Plisko ]
  * Tighten zfs dependency on zfs-kmod

  [ Brian Behlendorf ]
  * Remove the slog restriction on bootfs pools

  [ DHE ]
  * Fix typos in commit b83e3e48c9b183a80dd00eb6c7431a1cbc7d89c9

  [ Steven Hartland ]
  * Illumos #4322

  [ Maximilian Mehnert ]
  * Add missing libzfs_core to Makefiles

  [ Turbo Fredriksson ]
  * Document ZFS module parameters.

  [ Brian Behlendorf ]
  * Add I/O Read/Write Accounting

  [ Yuri Pankov ]
  * Illumos #2583 (Closes: #937)

  [ Trey Dockendorf ]
  * Change zfs-dkms requirement

  [ Etienne Dechamps ]
  * Only commit the ZIL once in zpl_writepages() (msync() case).

  [ Tim Chase ]
  * Some nvlist allocations in hold processing need to use KM_PUSHPAGE.

  [ Richard Yao ]
  * Drive database update

  [ Brian Behlendorf ]
  * Remove incorrect ASSERT in zfs_sb_teardown()

  [ Richard Yao ]
  * Properly ignore bdi_setup_and_register return value

  [ Matthew Ahrens ]
  * Illumos #4347 ZPL can use dmu_tx_assign(TXG_WAIT)
  * Illumos #4045 write throttle & i/o scheduler performance work

  [ Brian Behlendorf ]
  * Add module versioning
  * Fix 'zfs diff' shares error

  [ Turbo Fredriksson ]
  * Update init script to allow /dev/disk/by-id import
  * Update init script to allow verbose mounts

  [ James Pan ]
  * sa_find_sizes() may compute wrong SA header size

  [ Ned Bass ]
  * Revert "Use directory xattrs for symlinks"

  [ Simon Guest ]
  * Fix multipath bug in vdev_id caused by inconsistent field numbering

  [ david.chen ]
  * Remove MAX when initializing arc_c_max

  [ Shen Yan ]
  * Fix zstream_t incorrect type

  [ Tim Chase ]
  * Fix atime handling.

  [ George Wilson ]
  * Illumos #4121 vdev_label_init read only

  [ Brian Behlendorf ]
  * Remove ZFC_IOC_*_MINOR ioctl()s
  * Sync /dev/zfs ioctl ordering
  * Update zfs(8) Snapshots section
  * cstyle: zvol.c
  * Silence e2fsck warning in zconfig.sh

  [ Chunwei Chen ]
  * Fix z_sync_cnt decrement in zfs_close

  [ renelson ]
  * Fix grammar in parse_options() error message
  * Handle acl flags from util-linux mount command

  [ Aaron Fineman ]
  * Cause zfs.spec to place dracut files properly

  [ Turbo Fredriksson ]
  * Add zfs_send_corrupt_data module option

  [ John Wren Kennedy ]
  * Illumos #4208

  [ Brian Behlendorf ]
  * cstyle: Exclude several files from 'make checkstyle'
  * cstyle: Allow spaces in all comments

  [ Michael Kjorling ]
  * cstyle: Resolve C style issues

  [ Matthew Thode ]
  * Add full SELinux support

  [ Brian Behlendorf ]
  * Register correct handlers for nvlist_{dup,pack,unpack}

  [ Tim Chase ]
  * Properly handle updates of variably-sized SA entries.
  * Fix the creation of ZPOOL_HIST_CMD pool history entries.

  [ Turbo Fredriksson ]
  * Add UNSHARING of filesystems and EXPORTING pools

  [ Brian Behlendorf ]
  * Enable /etc/mtab cache to improve performance
  * Remove unconditional sharetab update

  [ John Layman ]
  * Add ddt, ddt_entry, and l2arc_hdr caches

  [ Brian Behlendorf ]
  * Define the needed ISA types for Sparc
  * Use local variable to read zp->z_mode
  * Fix nvlist 'Bus Error' for Sparc
  * Fix zfs_getattr_fast types
  * Force LZ4_FORCE_SW_BITCOUNT for Sparc
  * Drain iput taskq outside z_teardown_lock
  * Prevent duplicate mnttab cache entries

  [ Richard Yao ]
  * Properly link zpool command to libblkid

  [ Brian Behlendorf ]
  * Disable GCCs aggressive loop optimization
  * Use long holds in zvol_set_volsize()

  [ Ned Bass ]
  * vdev_id: support per-channel slot mappings

  [ Brian Behlendorf ]
  * Remove incorrect use of EXTRA_DIST for man pages

  [ Ned Bass ]
  * vdev_file_io_start() to use taskq_dispatch(TQ_PUSHPAGE)

  [ Tim Chase ]
  * Allow chown/chgrp when no ACL SAs exist.

  [ Shen Yan ]
  * Use enum type(zfetch_dirn_t) instead

  [ Igor Lvovsky ]
  * Add additional state TXG_STATE_WAIT_FOR_SYNC for txg.

  [ Cyril Plisko ]
  * Call gethrtime() only once per new txg creation

  [ Patrik Greco ]
  * Fix error message in zpios

  [ Tim Chase ]
  * Implement relatime.

  [ Matthew Ahrens ]
  * Illumos 4504 traverse_visitbp: visit group before user
  * 4188 assertion failed in dmu_tx_hold_free(): dn_datablkshift != 0

  [ Brian Behlendorf ]
  * Fix corrupted l2_asize in arcstats

  [ Ralf Ertzinger ]
  * Add systemd unit files for ZFS startup

  [ Brian Behlendorf ]
  * Fix zconfig.sh test 9

  [ Ralf Ertzinger ]
  * Add explicit Conflicts for zfs-fuse packages

  [ Brian Behlendorf ]
  * Add default FILEDIR path to zpool-config scripts

  [ Tim Chase ]
  * Propagate errors when registering "relatime" property callback.

  [ Brian Behlendorf ]
  * Add zimport.sh compatibility test script

  [ Richard Yao ]
  * Revert changes to zbookmark_t

  [ Brian Behlendorf ]
  * Use expected zpool_status_t type
  * Add generic errata infrastructure

  [ Richard Yao ]
  * Add erratum for issue #2094

  [ Brian Behlendorf ]
  * Set zfs_arc_min to 4MB

  [ Prakash Surya ]
  * Adjust arc_p based on "bytes" in arc_shrink
  * Disable aggressive arc_p growth by default
  * Allow "arc_p" to drop to zero or grow to "arc_c"
  * Disable arc_p adapt dampener by default
  * Revert "Return -1 from arc_shrinker_func()"
  * Prune metadata from ghost lists in arc_adjust_meta
  * Remove "arc_meta_used" from arc_adjust calculation
  * Prioritize "metadata" in arc_get_data_buf
  * Split "data_size" into "meta" and "data"
  * Set "arc_meta_limit" to 3/4 arc_c_max by default

  [ Andrew Barnes ]
  * Remove recursion from dsl_dir_willuse_space()

  [ cburroughs ]
  * Include l2asize in arcstat

  [ Tim Chase ]
  * Fix zap_lookup() in feature_is_supported().

  [ Alexander Stetsenko ]
  * Illumos #4574 get_clones_stat does not call zap_count in non-debug kernel

  [ Richard Yao ]
  * Inform OpenRC that ZFS uses mtab
  * Invalidate Linux buffer cache on vdevs upon each flush

  [ Ned Bass ]
  * dmu_tx kstat cleanup
  * replace nreserved with ndirty in txgs kstat
  * Improve reporting of tx assignment wait times

  [ Aneurin Price ]
  * Dramatically improve the speed of snapshot listing

  [ Brian Behlendorf ]
  * Export symbols dsl_sync_task{_nowait}

  [ Tim Chase ]
  * Use KM_PUSHPAGE in spa_add() for spa_label_features.

  [ Boris Protopopov ]
  * Illumos #4088 use after free in arc_release()

  [ Turbo Fredriksson ]
  * Fix NAME section of manpages zhack and fsck.zfs.

  [ Isaac Huang ]
  * Make arcstat.py default to one header per screen
  * sighandler() should take 2 arguments

  [ Richard Yao ]
  * Free props in ztest_init()
  * Switch ztest mmap(2) ASSERTs to VERIFYs
  * Remove unused option -r from 'zpool import'

  [ Andrey Vesnovaty ]
  * Fix regression introduced in port of Illumos #3744

  [ Brian Behlendorf ]
  * Revert "sighandler() should take 2 arguments"

  [ Isaac Huang ]
  * sighandler() should take 2 arguments

  [ Richard Yao ]
  * Assert alignment in umem_alloc_aligned
  * Implement -t option to zpool import for temporary pool names

  [ Chunwei Chen ]
  * config: compile test rather than run test

  [ Yuri Pankov ]
  * Illumos #3120 zinject hangs in zfsdev_ioctl() due to uninitialized zc

  [ Boris Protopopov ]
  * Illumos #4089 NULL pointer dereference in arc_read()

  [ Richard Yao ]
  * Revert "Properly ignore bdi_setup_and_register return value"
  * Linux 3.13 compat: Handle __must_check bdi_setup_and_register

  [ Gunnar Beutner ]
  * Remount datasets for "zfs inherit".

  [ Brian Behlendorf ]
  * Add a unique "eid" value to all zevents
  * Add zpool_events_seek() functionality
  * Clarify zpool_events_next() comment

  [ Chris Dunlap ]
  * Add defs for makefile installation dir vars
  * Replace zpool_events_next() "block" parm w/ "flags"
  * Initial implementation of zed (ZFS Event Daemon)
  * Add systemd unit file for zed

  [ Brian Behlendorf ]
  * Make command line guid parsing more tolerant
  * Add missing DATA_TYPE_STRING_ARRAY output
  * Add automatic hot spare functionality

  [ Chris Dunlap ]
  * Replace check for _POSIX_MEMLOCK w/ HAVE_MLOCKALL

  [ Brian Behlendorf ]
  * Revert "Fixed a use-after-free bug in zfs_zget()."

  [ Richard Yao ]
  * Fix deadlock in zfs_zget()
  * Fix locking order in zfs_zget()

  [ John M. Layman ]
  * Fix for re-reading /etc/mtab.

  [ Turbo Fredriksson ]
  * Support using overlay mounts in defaults/init script.
  * Allow specifying '-o <opts>' in defaults/init script.

  [ Richard Yao ]
  * Improve partition detection on lesser used devices

  [ Brian Behlendorf ]
  * Dynamically create loop devices

  [ Chris Dunlap ]
  * Set errno for mkdirp() called with NULL path ptr
  * Replace zed_file_create_dirs() with mkdirp()

  [ Darik Horn ]
  * Move zfs_completion.bash into the DEB overlay.

  [ Brian Behlendorf ]
  * Improve zfs.sh error messages

  [ Chunwei Chen ]
  * Linux 3.14 compat: posix_acl_{create,chmod}
  * Linux 3.14 compat: Immutable biovec changes in vdev_disk.c
  * Refactor dmu_req_copy for immutable biovec changes
  * Revert "Fix zvol+btrfs hang"
  * Linux 3.14 compat: rq_for_each_segment in dmu_req_copy

  [ Brian Behlendorf ]
  * Make zimport.sh bash dependency explicit

  [ Darik Horn ]
  * Update changelog for 0.6.2-2~trusty release

  [ Chunwei Chen ]
  * Use ddi_time_after and friends to compare time

  [ DHE ]
  * Uninitialized variable spa_autoreplace used

  [ Tim Chase ]
  * Report atime and relatime as the property's actual value.

  [ Brian Behlendorf ]
  * Various zimport.sh fixes
  * Fix zfsdev_ioctl() kmem leak warning

  [ Ned Bass ]
  * Fix LZ4 endianness autodetection

  [ Jorgen Lundman ]
  * Add support for aarch64 (ARMv8)

  [ Chunwei Chen ]
  * Add assertion to catch 0-count page

  [ ilovezfs ]
  * Fill in mountpoint buffer before using it in errors

  [ Richard Yao ]
  * Refactor inode_owner_or_capable() autotools check
  * Implement File Attribute Support

  [ Brian Behlendorf ]
  * dmu_tx_assign() should not return ENOMEM

  [ Richard Yao ]
  * Fix libblkid ZFS detection when making new pools
  * libspl: Implement LWP rwlock interface
  * ztest: Switch to LWP rwlock interface

  [ Brian Behlendorf ]
  * Remove SELinux enforcing check from init scripts
  * Treat spill block dbufs as meta data

  [ George Wilson ]
  * Illumos #4101 finer-grained control of metaslab_debug

  [ Brian Behlendorf ]
  * Fix style

  [ Tim Chase ]
  * Check the dataset type more rigorously when fetching properties.

  [ Brian Behlendorf ]
  * Handle vdev_lookup_top() failure in dva_get_dsize_sync()

  [ Chunwei Chen ]
  * Use a dedicated taskq for vdev_file

  [ Richard Yao ]
  * Handle ZPOOL_STATUS_HOSTID_MISMATCH in zpool status

  [ Tim Chase ]
  * Allow for lock-free reading zfsdev_state_list.
  * Calculate header size correctly in sa_find_sizes()

  [ HC ]
  * Honor zfs_nocacheflush for file vdevs

  [ John Albietz ]
  * Added INTEL SSD 530 Series

  [ Marcel Huber ]
  * Omit compiler warning by sticking to RAII

  [ Brian Behlendorf ]
  * Use default slab types
  * Restrict release number to META version
  * Fix DKMS package upgrade and packager

  [ Chris Wedgwood ]
  * Allow building without ACLs

  [ Richard Yao ]
  * Fix memory leak in zpool_clear_label()
  * Remove superfluous statement

  [ Turbo Fredriksson ]
  * Move the libraries into separate packages (Closes: #2329, #2341)

  [ Ben Allen ]
  * Update spec file to enable systemd for RHEL7

  [ Turbo Fredriksson ]
  * Accept kernel source dir(s) specified by ./configure

  [ Derek Dai ]
  * Do not export pool to prevent cache from been removed

  [ Turbo Fredriksson ]
  * Only automatically mount a clone when 'canmount == on'.
  * Document the fact that ashift is vdev specific, not a pool global.
    (Closes: #2024)
  * Man page updates for 'zfs share'

  [ Tim Chase ]
  * Expand the description of scan-related and other parameters.

  [ Turbo Fredriksson ]
  * Document the -X and -T options to 'zpool import'
  * Set LANG to a reasonable default (C)

  [ Brian Behlendorf ]
  * Revert "Fix __zio_execute() asynchronous dispatch"

  [ Turbo Fredriksson ]
  * Accept udev and dracut paths specified by ./configure

  [ Brian Behlendorf ]
  * Fix zfs.spec.in defaults
  * Tag zfs-0.6.3

  [ Darik Horn ]
  * Integrate libzfs_core changes.
  * Ensure the correct mode for zfs-initramfs hooks.
  * Move zfs_completion.bash into the DEB overlay.
  * Revert "Backport Linux 3.13 compatibility patches."
  * Refresh debian/patches after upstream merge.

 -- Darik Horn <dajhorn@vanadac.com>  Thu, 12 Jun 2014 21:17:33 -0400

zfs-linux (0.6.2-2~trusty) trusty; urgency=low

  * Update gbp.conf for Ubuntu 14.04 Trusty Tahr.
  * Backport Linux 3.13 compatibility patches.

 -- Darik Horn <dajhorn@vanadac.com>  Tue, 08 Apr 2014 20:55:43 -0400
